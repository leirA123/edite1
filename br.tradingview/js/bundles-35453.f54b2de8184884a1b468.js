(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[35453],{706617:(e,t)=>{"use strict";t.hasProperty=t.isObject=void 0,t.isObject=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)},t.hasProperty=function(e,t){return t in e}},981746:(e,t,i)=>{"use strict";i.d(t,{bindToDevicePixelRatio:()=>r});var n={allowDownsampling:!0};function r(e,t){return void 0===t&&(t=n),new s(e,t)}var s=function(){function e(e,t){var i=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(e){return i._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=e,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=t,this._configureCanvas(),this._installResolutionListener()}return e.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(e.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),e.prototype.resizeCanvas=function(e){this._canvasSize={width:e.width,height:e.height},this._configureCanvas()},Object.defineProperty(e.prototype,"pixelRatio",{get:function(){var e=this.canvas.ownerDocument.defaultView;if(null==e)throw new Error("No window is associated with the canvas");return e.devicePixelRatio>1||this._options.allowDownsampling?e.devicePixelRatio:1},enumerable:!0,configurable:!0}),e.prototype.subscribeCanvasConfigured=function(e){this._canvasConfiguredListeners.push(e)},e.prototype.unsubscribeCanvasConfigured=function(e){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter((function(t){return t!=e}))},e.prototype._configureCanvas=function(){var e=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*e,this.canvas.height=this._canvasSize.height*e,this._emitCanvasConfigured()},e.prototype._emitCanvasConfigured=function(){var e=this;this._canvasConfiguredListeners.forEach((function(t){return t.call(e)}))},e.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var e=this.canvas.ownerDocument.defaultView;if(null==e)throw new Error("No window is associated with the canvas");var t=e.devicePixelRatio;this._resolutionMediaQueryList=e.matchMedia("all and (resolution: "+t+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},e.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},e.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},e.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},e}()},886473:e=>{e.exports={errorDialog:"errorDialog-0R3aCXZS"}},
365592:e=>{e.exports={container:"container-RqLxZVKU",inner:"inner-RqLxZVKU","border-left":"border-left-RqLxZVKU","border-right":"border-right-RqLxZVKU","border-top":"border-top-RqLxZVKU","border-bottom":"border-bottom-RqLxZVKU","top-right-radius":"top-right-radius-RqLxZVKU","top-left-radius":"top-left-radius-RqLxZVKU","bottom-right-radius":"bottom-right-radius-RqLxZVKU","bottom-left-radius":"bottom-left-radius-RqLxZVKU"}},298033:e=>{e.exports={"css-value-header-toolbar-height":"38px"}},144154:e=>{e.exports={"top-left-button-height":"38px","top-left-button-width":"52px"}},372829:e=>{e.exports={"top-left-button-height":"38px","top-left-button-width":"52px",topLeftButton:"topLeftButton-4jH252RJ",stub:"stub-4jH252RJ"}},164387:(e,t,i)=>{"use strict";i.d(t,{setupChartEventHint:()=>d});var n=i(588537),r=i(787236),s=i(62802),o=i(308170),a=i(29084),l=i(638456),c=i(470316),u=i(611688);function d(e,t=!1){if(!u.enabled("popup_hints"))return;const d=e.getContainer();let h=null,_=null;function g(e,t){if(h)h.show(e,m.bind(null,t));else{const n=o.tool.value();Promise.all([i.e(25113),i.e(5835),i.e(75514),i.e(26166)]).then(i.bind(i,410837)).then(i=>{h=new i.ChartEventHintRenderer(d),n===o.tool.value()&&h.show(e,m.bind(null,t))})}}function p(e){return!Boolean(s.getBool(e))}function m(e){s.setValue(e,!0,{forceFlush:!0}),(0,n.ensureNotNull)(h).destroy(),null!==_&&_(),h=null}o.tool.subscribe((function(){if(!p("hint.touchPainting"))return;const e=o.tool.value(),t=(0,a.isLineToolDrawWithoutPoints)(e),i=l.CheckMobile.any();!(0,a.isStudyLineToolName)(e)||"LineToolRegressionTrend"===e||t||i?(0,a.isLineToolName)(e)&&!(0,a.isLineDrawnWithPressedButton)(e)&&!t&&i?g((0,r.t)("Move the point to position the anchor then tap to place"),"hint.touchPainting"):h&&h.hide():g((0,r.t)("Click to set a point"),"hint.touchPainting")})),o.createdLineTool.subscribe(null,(function(){const e=o.tool.value();"LineToolPath"===e&&p("hint.finishBuildPathByDblClick")?g((0,r.t)("Double-click to finish Path"),"hint.finishBuildPathByDblClick"):"LineToolPolyline"===e&&p("hint.finishBuildPolylineByDblClick")&&g((0,r.t)("Double-click to finish Polyline"),"hint.finishBuildPolylineByDblClick")})),o.finishedLineTool.subscribe(null,(function(){if(h){const e=o.tool.value();"LineToolPath"===e?m("hint.finishBuildPathByDblClick"):"LineToolPolyline"===e&&m("hint.finishBuildPolylineByDblClick")}})),e.layoutSizesChanged().subscribe((function(){if(!p("hint.startResizingChartInLayout"))return;g((0,r.t)("Double-click any edge to reset layout grid"),"hint.startResizingChartInLayout")})),t||l.CheckMobile.any()||!p("hint.startFocusedZoom")||(_=function(e,t){let i=!1;const n=r=>{r?(i&&t(r),e.onZoom().unsubscribe(null,n)):i||(t(r),i=!0)};return e.onZoom().subscribe(null,n),()=>e.onZoom().unsubscribe(null,n)}(e,(function(e){if(!p("hint.startFocusedZoom"))return;if(e)h&&(_=null,m("hint.startFocusedZoom"));else{const e=c.isMacKeyboard?"âŒ˜":"Ctrl";g((0,r.t)("Press and hold {key} while zooming to maintain the chart position").format({key:e}),"hint.startFocusedZoom")}})))}},229534:(e,t,i)=>{
"use strict";i.d(t,{createErrorDialog:()=>s,showErrorDialog:()=>a});var n=i(787236),r=i(886473);async function s(e){return(await Promise.all([i.e(80509),i.e(66708),i.e(31205),i.e(16061),i.e(84575),i.e(23450),i.e(59420),i.e(34834)]).then(i.bind(i,82649))).createDialog({...o(e),type:"modal"})}function o(e){const{title:t,content:i,actions:s,btnTitle:o,btnType:a,help:l}=e;return{title:t||(0,n.t)("Error"),help:l,content:i,addClass:r.errorDialog,destroyOnClose:!0,width:500,dataset:{"dialog-type":"error-dialog"},actions:s||[{key:[13,32],method:"close",name:"ok",text:o||(0,n.t)("OK"),type:a||"primary"}]}}function a(e){s(e).then(e=>e.open())}},760641:(e,t,i)=>{"use strict";i.d(t,{ChartPage:()=>c});var n=i(262325),r=i.n(n),s=i(581996),o=i(484443),a=i(611688);const l=a.enabled("no_min_chart_width");class c{constructor(e){this._processVisibility=e=>{const t=e.container.value();return this._affectsLayout(e.name)?(t&&t.classList.toggle("js-hidden",!1),!0):(t&&t.classList.toggle("js-hidden",!0),!1)},this._setWidth=(e,t)=>{let i=t;this._fullscreenArea!==e.name&&(e.availWidth.setValue(t),e.canNegotiate.width&&(i=(0,o.determineSize)(t,e.negotiations.width)));const n=e.container.value();return n&&(n.style.width=i+"px"),e.width.setValue(i),i},this._setHeight=(e,t)=>{let i=t;this._fullscreenArea!==e.name&&(e.availHeight.setValue(t),e.canNegotiate.height&&(i=(0,o.determineSize)(t,e.negotiations.height)));const n=e.container.value();return n&&(n.style.height=i+"px"),e.height.setValue(i),i};const t=e.container.value();if(!t)throw new Error("bridge.container.value() must be an element");this._container=t,this._availableAreas=["left","tradingpanel","right","top","bottom","center","topleft","extratop"],this._areas={},this._bridge=e,this._width=e.width,this._height=e.height,this._width.subscribe(()=>this.recalculate()),this._height.subscribe(()=>this.recalculate()),this._bridge.visible.subscribe(()=>this._updateVisibility()),this._bridge.fullscreen.subscribe(()=>this._onParentFullscreenChange()),this.recalculate()}allocate(e){const t=e&&e.areaName;if(-1===this._availableAreas.indexOf(t))throw new Error("unknown options.areaName");this.free(t);const i=this._createDOM(t),n={name:t,canNegotiate:{width:"left"===t||"right"===t||"tradingpanel"===t||"topleft"===t,height:"top"===t||"bottom"===t||"topleft"===t||"extratop"===t},negotiations:{width:[],height:[]},remove:()=>{for(const e in this._areas)this._areas[e]===n&&this.free(e)},negotiateWidth:e=>{if(!n.canNegotiate.width)return;const t=(0,o.processNegotiation)(e);(0,o.negotiationsAreEqual)(n.negotiations.width,t)||(n.negotiations.width=t,this.recalculate())},negotiateHeight:e=>{if(!n.canNegotiate.height)return;const t=(0,o.processNegotiation)(e);(0,o.negotiationsAreEqual)(n.negotiations.height,t)||(n.negotiations.height=t,this.recalculate())},requestFullscreen:()=>{this._fullscreenArea||("right"!==t&&"center"!==t||(this._fullscreenArea=t),"center"===t&&this._bridge.requestFullscreen(),this._updateFullscreen())},exitFullscreen:()=>{t===this._fullscreenArea&&(this._fullscreenArea=void 0,
"center"===t&&this._bridge.exitFullscreen(),this._updateFullscreen())},width:new(r()),height:new(r()),availWidth:new(r()),availHeight:new(r()),alive:new(r())(!0),container:new(r())(i),visible:new(r())(!0),fullscreen:new(r())(!1),fullscreenable:new(r())("right"===t||"center"===t),rdState:new s.ResizerDetacherState};return n.rdState.pushOwner(n),this._areas[t]=n,n.rdState.owner.subscribe(e=>{const i=n.container.value();if(e!==n)i&&(i.innerHTML="",i.parentElement&&i.parentElement.removeChild(i));else{let e=null;for(let i=this._availableAreas.indexOf(t);i--;){const t=this._availableAreas[i];if(this._affectsLayout(t)){e=this._areas[t].container.value();break}}i&&(e&&i.parentElement?i.insertAdjacentElement("afterend",e):this._container.appendChild(i))}this.recalculate()},{callWithLast:!0}),n.rdState.bridge()}free(e){const t=this._areas[e];if(!t)return;this._areas[e]=void 0;const i=t.container.value();i&&i.parentElement&&i.parentElement.removeChild(i),t.alive.setValue(!1)}recalculate(){const e={};this._recalcSingleRunToken=e;const t=this._areas.topleft,i=this._areas.left,n=this._areas.tradingpanel,r=this._areas.right,s=this._areas.top,o=this._areas.bottom,a=this._areas.center,c=this._areas.extratop,u=this._width.value(),d=this._height.value();let h=0,_=0,g=0,p=0,m=0,f=0,v=0,b=0;if(e===this._recalcSingleRunToken&&c&&this._processVisibility(c)&&(b=this._setHeight(c,d),this._setWidth(c,u)),e===this._recalcSingleRunToken&&t&&this._processVisibility(t)){v=this._setHeight(t,d),f=this._setWidth(t,u);const e=t.container.value();e&&(e.style.top=b+"px")}let y=0;if(e===this._recalcSingleRunToken&&s&&this._processVisibility(s)){const e=s.container.value();e&&(e.style.left=f+"px",e.style.top=b+"px");const t=u-f;this._setWidth(s,t),h=this._setHeight(s,d),h&&(y=1)}if(e===this._recalcSingleRunToken&&i&&this._processVisibility(i)){const e=Math.max(v,h),t=i.container.value();g=this._setWidth(i,u),g&&(g+=4),g&&1===y&&(y=4),t&&(t.style.top=e+b+y+"px"),this._setHeight(i,d-e-b)}if(e===this._recalcSingleRunToken&&n&&this._processVisibility(n)){let e=u-g;l||(e-=300),m=this._setWidth(n,e),m&&1===y&&(y=4),this._setHeight(n,d-b-h-y)}if(e===this._recalcSingleRunToken&&r&&this._processVisibility(r)){let e=u-g-m;l||(e-=300),p=this._setWidth(r,e),p&&1===y&&(y=4),this._setHeight(r,d-b-h-y);const t=r.container.value();t&&(t.style.top=h+b+y+"px",t.classList.toggle("no-border-top-left-radius",Boolean(m)))}const w=m+p;let S=0;const C=u-g-m-p-(w?4:0);if(e===this._recalcSingleRunToken&&o&&this._processVisibility(o)){const e=o.container.value();e&&(e.style.left=g+"px",e.classList.toggle("no-border-top-left-radius",!g),e.classList.toggle("no-border-top-right-radius",!w)),this._setWidth(o,C);const t=d-b;S=Math.min(300,t-0),_=this._setHeight(o,t)+4}const P=Boolean(h&&(g||w));if(this._container.classList.toggle("layout-with-border-radius",P),e===this._recalcSingleRunToken&&a&&this._processVisibility(a)){const e=a.container.value();e&&(e.style.left=g+"px",e.style.top=h+b+y+"px",e.classList.toggle("no-border-bottom-left-radius",!_||!g),
e.classList.toggle("no-border-bottom-right-radius",!w||!_),e.classList.toggle("no-border-top-left-radius",Boolean(!g&&w)),e.classList.toggle("no-border-top-right-radius",Boolean(g&&!w))),this._setWidth(a,C);const t=d-h-_-b-y;this._setHeight(a,Math.max(t,S))}if(e===this._recalcSingleRunToken&&n&&this._affectsLayout("tradingpanel")){const e=n.container.value();e&&(e.style.right=p+"px",e.style.top=b+h+y+"px",e.style.borderTopLeftRadius=P?"4px":"0px")}e===this._recalcSingleRunToken&&this._updateVisibility()}_affectsLayout(e){const t=this._areas[e];if(!t)return!1;if(t.rdState.owner.value()!==t)return!1;if(this._fullscreenArea&&this._fullscreenArea!==e)return u(e);if(this._width.value()<=567||this._height.value()<=445){if(!["center","top","left","topleft","extratop"].includes(e))return!1}return!0}_updateVisibility(){const e=this._bridge.visible.value();for(let t=0;t<this._availableAreas.length;t++){const i=this._availableAreas[t],n=this._areas[i];n&&(e&&this._affectsLayout(i)?n.visible.setValue(!0):n.visible.setValue(!1))}}_onParentFullscreenChange(){this._bridge.fullscreen.value()||(this._fullscreenArea=void 0,this._updateFullscreen())}_updateFullscreen(){const e=void 0!==this._fullscreenArea;for(let t=0;t<this._availableAreas.length;t++){const i=this._availableAreas[t],n=this._areas[i];if(!n)continue;if(i===this._fullscreenArea){n.fullscreen.setValue(!0);continue}n.fullscreen.setValue(!1);const r=n.container.value();r&&r.classList.toggle("js-hidden",e&&!u(i))}this._updateVisibility(),this.recalculate()}_createDOM(e){const t=document.createElement("div");return t.classList.add("layout__area--"+e),t.style.position="absolute","tradingpanel"===e&&(t.style.overflow="hidden",t.style.borderTopLeftRadius="4px"),"bottom"===e?t.style.bottom="0":t.style.top="0","right"===e||"tradingpanel"===e?t.style.right="0":t.style.left="0",t}}function u(e){const t=a.enabled("side_toolbar_in_fullscreen_mode"),i=a.enabled("header_in_fullscreen_mode");return"center"===e||"left"===e&&t||"top"===e&&i}},484443:(e,t,i)=>{"use strict";function n(e,t){let i=0;for(const{min:n,max:r}of t){if(e<n||r<n)continue;const t=Math.min(e,r);if(i=Math.max(i,t),e===i)break}return i}function r(e){const t=[];if(void 0===e)return[];Array.isArray(e)||(e=[e]);for(const i of e){let e,n;isFinite(i)?e=n=Number(i):(e=+i.min,n=+i.max),(e<0||isNaN(e))&&(e=0),isNaN(n)&&(n=1/0),e<=n&&n>0&&t.push({min:e,max:n})}return t.sort((e,t)=>e.min-t.min||e.max-t.max),t}function s(e,t){if(e.length!==t.length)return!1;for(let i=e.length;i--;){if(e[i].min!==t[i].min)return!1;if(e[i].max!==t[i].max)return!1}return!0}i.d(t,{determineSize:()=>n,processNegotiation:()=>r,negotiationsAreEqual:()=>s})},372006:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SupportTicketData:()=>w});var n=i(611688),r=i(849289),s=i.n(r),o=i(260339),a=i(110933),l=i(314802),c=i(638456),u=i(588948),d=i(582950),h=i(911905),_=(i(659863),i(501867)),g=i.n(_),p=i(62802),m=i.n(p);function f(e){const t={name:e.name,time:e.startTime};return"measure"===e.entryType&&(t.duration=e.duration),t}function v(){const e=navigator.connection;return{
effectiveType:e&&e.effectiveType||"unknown",rtt:e&&e.rtt||-1}}var b=i(809965);const y=(0,h.getLogger)("Support.TicketData");class w{constructor(e={}){this._options=e,this.reset()}destroy(){delete this._data,delete this._browserInfo,delete this._dialogElement}reset(){this._data={event:"support_ticket"},this._browserInfo=new(s())}setOptions(e){this._options={...this._options,...e}}getData(){return this._data}addData(e){Object.assign(this._data,e)}setDialogElement(e){this._dialogElement=e}async getFinalData(){void 0!==this._beforeCollectingFinalData&&await this._beforeCollectingFinalData();const e=this._options.disableAutoCollection?this.getData():await this._collectData();return(0,d.isFinalNewTicketData)(e)?e:(y.logError("Not enough data collected. `event` and one of (`userId`, `email`) fields required."),null)}onBeforeCollectingFinalData(e){this._beforeCollectingFinalData=e}tradingDataPromise(){return this._tradingDataPromise}onTradingData(e){this._tradingDataPromise=e}static setChartWidgetCollection(e){w._chartWidgetCollection=e}static getChartWidgetCollection(){return w._chartWidgetCollection}static setScreener(e){w._screener=e}static getScreener(){return w._screener}_collectData(){const e=Promise.all([this._getChartSnapshot(),this._getTradingLogs(),this._getScreenerParams(),this._getPageSnapshot(),this._getLogHistory(),this._getDesktopReports()]).then(e=>{this.addData(this._filterEmptyFields({snapshotURL:e[0],trading:e[1],screener:e[2],pageSnapshotURL:e[3],log:e[4],desktopReports:e[5]}))}).then(()=>this._data);return this.addData(this._filterEmptyFields({browserInfo:this._getBrowserInfo(),ping:this._getPingInfo(),user:this._getUser(),userId:this._getUserId(),pro_plan:this._getProPlan(),websocketAddress:this._getWebSocketAddress(),sessionid:this._getSessionId(),ref:this._getReferrer(),js_errors:this._getJsErrors(),product:this._getProductId(),symbolSessionId:this._getSymbolSessionId(),dividendsAdjustment:this._getDividendsAdjustment(),backAdjustment:this._getBackAdjustment(),settlementAsClose:this._getSettlementAsClose(),chartSessionDisconnects:this._getChartSessionDisconnects(),marketStatuses:this._getChartMarketStatuses(),seriesStatuses:this._getChartSeriesStatuses(),is_pro:this._getUserIsPro(),subscription_state:this._getSubscriptionState(),proOffers:this._getProOffers(),timezone:this._getTimezone(),performanceMetrics:this._getPerformanceMetrics(),serverInfo:this._getServerInfo(),serverTimeOffset:this._getServerTimeOffset(),settings:this._getUserSettings(),domNodesCount:this._getDomNodesCount(),buildTime:this._getBuildTime(),plugins:this._getPlugins(),locale:this._getLocale()})),e}_getBrowserInfo(){return this._browserInfo.state()}_getChartSnapshot(){return new Promise(async e=>{const t=w.getChartWidgetCollection();if(void 0===t)return y.logWarn("Abort generating snapshot. No chartWidgetCollection found."),void e(null);const i=n.enabled("snapshot_trading_drawings");try{n.enable("snapshot_trading_drawings"),await(0,o.takeChartSnapshot)(t,t=>{
const i=n.enabled("charting_library_base")?"https://www.tradingview.com/x/"+t:`${location.protocol}//${location.host}/x/${t}`;e(i)},()=>{y.logError("Failed to take chart snapshot."),e(null)},{showHeaderMainSymbol:!0})}catch(t){return y.logError("Error while taking chart snapshot: "+t.message),void e(null)}finally{i?n.enable("snapshot_trading_drawings"):n.disable("snapshot_trading_drawings")}})}_getTradingLogs(){return new Promise(e=>{if(!this._data.tradingLogsAgree)return y.logWarn("Abort collecting trading logs. User did not agree to send trading logs."),void e(null);const t=(0,a.tradingService)();if(!t)return y.logWarn("Abort collecting trading logs. No trading object found."),void e(null);const i=t.activeBroker();if(null===i||!i.bugReportInfo||1!==i.connectionStatus())return y.logWarn("Abort collecting trading logs because of connection or abscence of info collection method."),void e(null);i.bugReportInfo().then(t=>e(JSON.stringify(t))).catch(t=>(y.logError("Error while collecting activeBroker info: "+t.message),e(null)))})}_getScreenerParams(){return new Promise(e=>{const t=w.getScreener();if(void 0===t)return y.logWarn("Abort collecting screener params. No screener found."),void e(null);e(t.getCurrentState())})}_getProductId(){return(0,l.isOnMobileAppPage)("old")?"ios":(0,l.isOnMobileAppPage)("new")?"android":(0,c.isDesktopApp)()?"desktop":n.enabled("charting_library_base")?"charting_library":"tv"}_getSymbolSessionId(){const e=w.getChartWidgetCollection();if(!e)return y.logWarn("Abort getting sessionId property value. No chartWidgetCollection found."),null;let t;try{t=e.activeChartWidget.value().model().mainSeries().properties().childs().sessionId.value()}catch(e){return y.logError("Error while getting sessionId property value: "+e.message),null}return"string"==typeof t?t:null}_getDividendsAdjustment(){const e=w.getChartWidgetCollection();if(!e)return y.logWarn("Abort getting dividendsAdjustment property value. No chartWidgetCollection found."),null;let t;try{t=e.activeChartWidget.value().model().mainSeries().properties().childs().dividendsAdjustment.value()}catch(e){return y.logError("Error while getting dividendsAdjustment property value: "+e.message),null}return"boolean"==typeof t?t:null}_getBackAdjustment(){const e=w.getChartWidgetCollection();if(!e)return y.logWarn("Abort getting backAdjustment property value. No chartWidgetCollection found."),null;let t;try{t=e.activeChartWidget.value().model().mainSeries().properties().childs().backAdjustment.value()}catch(e){return y.logError("Error while getting backAdjustment property value: "+(null==e?void 0:e.message)),null}return"boolean"==typeof t?t:null}_getSettlementAsClose(){const e=w.getChartWidgetCollection();if(!e)return y.logWarn("Abort getting settlementAsClose property value. No chartWidgetCollection found."),null;let t;try{t=e.activeChartWidget.value().model().mainSeries().properties().childs().settlementAsClose.value()}catch(e){return y.logError("Error while getting settlementAsClose property value: "+(null==e?void 0:e.message)),null}
return"boolean"==typeof t?t:null}_getChartSessionDisconnects(){return window.ChartApiInstance?window.ChartApiInstance.disconnectCount():(y.logWarn("Abort getting chart session disconnects count. No ChartApiInstance found."),null)}_getChartMarketStatuses(){const e=w.getChartWidgetCollection();return e?e.chartMarketStatuses():(y.logWarn("Abort getting market statuses. No chartWidgetCollection found."),[])}_getChartSeriesStatuses(){const e=w.getChartWidgetCollection();return e?e.chartSeriesStatuses():(y.logWarn("Abort getting series statuses. No chartWidgetCollection found."),[])}_getUserIsPro(){return Boolean(window.user&&window.user.is_pro)}_getSubscriptionState(){return window.pro&&window.pro.isPaidPro()?d.SubscriptionState.IsPro:window.user.had_pro?d.SubscriptionState.ExPro:void 0}_getProOffers(){return window.pro&&window.pro.offers&&window.pro.offers()||[]}_getTimezone(){const e=w.getChartWidgetCollection();if(!e)return y.logWarn("Abort getting timezone. No chartWidgetCollection found."),null;let t=null;try{t=e.activeChartWidget.value().model().model().properties().childs().timezone.value()}catch(e){y.logError("Error while getting timezone: "+e.message)}return t}_getPerformanceMetrics(){return function(){if(!window.performance||!performance.getEntriesByType)return null;const e=performance.getEntriesByType("navigation");if(0===e.length)return null;const t=e[0];let i=performance.getEntriesByType("mark");i=i.slice(Math.max(i.length-1e3,0));let n=performance.getEntriesByType("paint");n=n.slice(Math.max(n.length-1e3,0));let r=performance.getEntriesByType("measure");return r=n.slice(Math.max(r.length-1e3,0)),{connection:v(),navigation:t.toJSON&&t.toJSON()||"unknown",paints:n.map(f),marks:i.map(f),measures:r.map(f)}}()}_sortLogs(e,t){return e.timestamp-t.timestamp}async _getLogHistory(){let e;try{let t=(0,h.getRawLogHistory)();g().ownPushStream()||(t=t.concat(await g().getLogs())),e=t.sort(this._sortLogs).map(h.serializeLogHistoryEntry).join("\n").slice(-8e6)}catch(t){y.logWarn("Error while collecting log history: "+t.message),e=JSON.stringify({error:"logger.getLogHistory(maxLen) failed: "+t.message,stack:t.stack})}return e}async _getDesktopReports(){return window.TVD&&window.TVD.getReports?window.TVD.getReports():null}_getPingInfo(){if(!window.ChartApiInstance)return y.logWarn("Abort getting chart session disconnects count. No ChartApiInstance found."),[];const e=window.ChartApiInstance.getPingInfo();return null!==e?[e.min,e.max,e.avg]:[]}_getUserId(){return window.user&&window.user.id?window.user.id:null}_getUser(){return window.user&&window.user.username||"Guest"}_getProPlan(){return window.user&&window.user.pro_plan&&window.user.pro_plan!==b.ProPlans.Free?window.user.pro_plan:null}_getWebSocketAddress(){return window.WSBackendConnection?window.WSBackendConnection.getHost():(y.logWarn("Abort getting websocket address. No WSBackendConnection found."),null)}_getSessionId(){return window.ChartApiInstance?window.ChartApiInstance.sessionid:(y.logWarn("Abort getting websocket address. No ChartApiInstance found."),null)}
_getReferrer(){return location.href}_getJsErrors(){return window.__tv_js_errors.slice(0,10)}_filterEmptyFields(e){const t={};for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];null!=n&&(!Array.isArray(n)||n.length>0)&&(t[i]=n)}return t}_getServerInfo(){const e=document.querySelector('meta[name="tv:server-name"]');return null!==e?e.getAttribute("content"):null}_getServerTimeOffset(){return window.ChartApiInstance?String(Math.round(window.ChartApiInstance.serverTimeOffset()))+"s":(y.logWarn("Abort getting server time offset. No ChartApiInstance found."),null)}_getUserSettings(){{const e=m().keys().reduce((e,t)=>{const i=m().getValue(t);if(i)try{e[t]=JSON.parse(i)}catch(n){e[t]=i}return e},{});return JSON.stringify(e).slice(0,5e5)}}_getDomNodesCount(){return document.querySelectorAll("*").length}async _getPageSnapshot(){return this._data.screenshotAgree?Promise.all([i.e(32689),i.e(142)]).then(i.bind(i,311702)).then(async e=>{try{return await e.generatePageSnapshot({logging:!1,ignoreElements:e=>e===this._dialogElement})}catch(e){return y.logError(e),null}}):(y.logWarn("Abort creating page snapshot. User did not agree to send page snapshot."),null)}_getBuildTime(){return window.BUILD_TIME}_getPlugins(){return void 0!==navigator.plugins?Array.from(navigator.plugins).map(e=>({name:e.name,filename:e.filename,description:e.description})):[]}_getLocale(){var e,t;return null!==(t=null===(e=(0,u.getFreshInitData)().currentLocaleInfo)||void 0===e?void 0:e.flag)&&void 0!==t?t:null}}},582950:(e,t,i)=>{"use strict";var n,r,s,o,a,l,c,u;function d(e){return void 0!==e.event&&void 0!==e.userId||void 0!==e.email}i.d(t,{CoreActiveIssueType:()=>n,CoreLegacyIssueType:()=>r,TVOnlyActiveIssueType:()=>s,TVOnlyLegacyIssueType:()=>o,SubscriptionState:()=>a,isFinalNewTicketData:()=>d,TicketNoteState:()=>l,TicketPublicStatus:()=>c,SatisfactionStatus:()=>u}),function(e){e.Chart="Chart",e.Trading="Trading issue"}(n||(n={})),function(e){e.Other="Other",e.DrawingIssue="Drawings issue",e.StudyNotLoading="Study not loading",e.SlowChart="Slow scrolling or chart loading"}(r||(r={})),function(e){e.Data="Data",e.PineScript="Pine Script issue",e.Alert="Alerts issue",e.Billing="Billing",e.Screener="Screener",e.SocialNetwork="Social network",e.Watchlist="Watchlist",e.MobileApps="Mobile apps",e.Desktop="Desktop",e.Financials="Financials",e.ProfileSettings="Profile settings",e.AccountRecovery="Account recovery",e.Blackfriday="Black Friday",e.Cybermonday="Cyber Monday",e.PaymentSearch="Payment search"}(s||(s={})),function(e){e.Unsubscribe="Unsubscribe",e.ChartDoesNotLoad="Chart does not load",e.NoRealTimeData="No real-time data",e.GapInTheData="Gap in the data",e.PriceIncorrect="Price incorrect"}(o||(o={})),function(e){e.IsPro="Is PRO",e.ExPro="Ex-PRO"}(a||(a={})),function(e){e.FromAgent="0",e.FromUser="2"}(l||(l={})),function(e){e.Received="Received",e.InProgress="In Progress",e.Closed="Closed"}(c||(c={})),function(e){e[e.Good=103]="Good",e[e.Average=100]="Average",e[e.Bad=-103]="Bad"}(u||(u={}))},487381:(e,t,i)=>{"use strict";i.d(t,{
setupTrackingModePopupHint:()=>l});var n=i(62802),r=i(308170),s=i(638456),o=i(345848),a=i(611688);function l(e){if(!s.CheckMobile.any()||Boolean(n.getBool("hint.trackingMode"))||!a.enabled("popup_hints"))return;const t=s=>{const a=r.tool.value();((0,r.toolIsCursor)(a)||"eraser"===a)&&(s.preventDefault(),s.stopPropagation(),Promise.all([i.e(48463),i.e(69129),i.e(82888),i.e(25113),i.e(34956),i.e(3820),i.e(75514),i.e(92697),i.e(35174)]).then(i.bind(i,416108)).then(e=>{e.render(document.createElement("div"),()=>{n.setValue("hint.trackingMode",!0,{forceFlush:!0}),(0,o.trackEvent)("GUI","Tracking Mode")})}),e.removeEventListener("touchstart",t,!0))};e.addEventListener("touchstart",t,!0)}},24958:(e,t,i)=>{"use strict";i.d(t,{TradingBootloader:()=>d});var n=i(564894),r=i(510013),s=i(440135),o=i(62802),a=i.n(o),l=i(611688),c=i(41872),u=i(440977);class d extends r.ChunkLoader{constructor(e){super(),this._options=e;const t=a().getBool(c.settingsKeys.TRADING_PANEL_OPENED,l.enabled("show_order_panel_on_start"));if(window.is_authenticated&&t){const e=(0,s.getThemedColor)("color-pane-bg");this._options.resizerBridge.negotiateWidth(a().getInt(c.settingsKeys.PANEL_WIDTH)||u.panelWidth),this._options.resizerBridge.negotiateHeight(u.panelHeight),this._options.resizerBridge.container.value().style.setProperty("background-color",e)}}async _startLoading(){return this._loadTrading()}async _loadTrading(){const{resizerBridge:e,chartWidgetCollection:t}=this._options,[{TRADING_SERVICE:r},{Trading:s}]=await Promise.all([Promise.all([i.e(48463),i.e(69129),i.e(82888),i.e(25113),i.e(34956),i.e(77962),i.e(46238),i.e(85617),i.e(8459),i.e(52810),i.e(75514),i.e(99379),i.e(47488),i.e(59255),i.e(97920),i.e(55152),i.e(92697),i.e(80423),i.e(25142)]).then(i.bind(i,110933)),Promise.all([i.e(48463),i.e(69129),i.e(82888),i.e(25113),i.e(34956),i.e(77962),i.e(46238),i.e(85617),i.e(8459),i.e(52810),i.e(75514),i.e(99379),i.e(47488),i.e(59255),i.e(97920),i.e(55152),i.e(92697),i.e(80423),i.e(25142)]).then(i.bind(i,21779))]),o=new s(e);return n.registerService(r,o),void 0!==t&&o.setChartWidgetCollection(t),o}}},477600:(e,t,i)=>{"use strict";i.d(t,{createStubElem:()=>r});var n=i(365592);function r(e=[],t=[]){const i=document.createElement("div"),r=document.createElement("div");return i.appendChild(r),i.classList.add(n.container),r.classList.add(n.inner),e.forEach(e=>{i.classList.add(n[e])}),t.forEach(e=>{i.classList.add(n[e])}),i}},344435:(e,t,i)=>{"use strict";i.d(t,{combineWithFilteredUpdate:()=>o,combine:()=>a});var n=i(262325),r=i.n(n);function s(e,t,...i){const n=(...t)=>e(...t.map(e=>e.value())),s=new(r())(n(...i)),o=()=>{t(...i.map(e=>e.value()))&&s.setValue(n(...i))},a=i.map(e=>e.spawn());for(const e of a)e.subscribe(o);return s.readonly().spawn(()=>a.forEach(e=>e.destroy()))}function o(e,t,...i){return s(e,t,...i)}function a(e,...t){return s(e,()=>!0,...t)}},194892:(e,t,i)=>{"use strict";i.d(t,{TOOLBAR_WIDTH_EXPANDED:()=>n});const n=52},414471:(e,t,i)=>{"use strict";i.d(t,{DrawingToolbarBootloader:()=>a});var n=i(670503),r=i(194892),s=i(510013),o=i(477600)
;class a extends s.ChunkLoader{constructor(e){super(),this._opts=e,n.isDrawingToolbarVisible.value()&&(this._opts.resizerBridge.negotiateWidth(r.TOOLBAR_WIDTH_EXPANDED),this._opts.resizerBridge.container.value().appendChild((0,o.createStubElem)()))}_startLoading(){return Promise.all([i.e(69129),i.e(2e3),i.e(86363),i.e(15998),i.e(11946),i.e(53466),i.e(94763),i.e(81112),i.e(81030),i.e(70323),i.e(86009),i.e(4911),i.e(75514),i.e(5186),i.e(91890),i.e(40968),i.e(12878)]).then(i.bind(i,663506)).then(e=>new e.DrawingToolbarRenderer(this._opts.resizerBridge.container.value(),{...this._opts}))}}},670503:(e,t,i)=>{"use strict";i.d(t,{isDrawingToolbarVisible:()=>c});var n=i(62802),r=i(611688),s=i(262325),o=i.n(s);const a=!r.enabled("hide_left_toolbar_by_default"),l=n.getBool("ChartDrawingToolbarWidget.visible",a),c=new(o())(l)},548829:(e,t,i)=>{"use strict";i.d(t,{HeaderToolbarBootloader:()=>o});var n=i(351026),r=i(477600),s=i(510013);class o extends s.ChunkLoader{constructor(e,t){super(),this._toolsBootloader=e,this._headerProps=t,this._headerProps.resizerBridge.negotiateHeight(n.HEADER_TOOLBAR_HEIGHT_EXPANDED),this._headerProps.resizerBridge.container.value().appendChild((0,r.createStubElem)())}_startLoading(){return Promise.all([this._toolsBootloader.load(),this._loadHeaderToolbar()]).then(([e,t])=>new t(this._headerProps.resizerBridge.container.value(),{...this._headerProps,tools:e}))}_loadHeaderToolbar(){return Promise.all([i.e(78268),i.e(41320),i.e(75514),i.e(88655),i.e(63005)]).then(i.bind(i,108419)).then(e=>e.HeaderToolbarRenderer)}}},351026:(e,t,i)=>{"use strict";i.d(t,{HEADER_TOOLBAR_HEIGHT_EXPANDED:()=>r,HEADER_TOOLBAR_HEIGHT_COLLAPSED:()=>s});var n=i(298033);const r=parseInt(n["css-value-header-toolbar-height"]),s=3},575242:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AutoSaveEnabledService:()=>r});var n=i(713917);class r extends n.CommonJsonStoreService{constructor(e,t){super(e,t,"AUTO_SAVE_ENABLED_CHANGED","Chart.autoSaveEnabled",!0)}}},441058:(e,t,i)=>{"use strict";i.d(t,{FavoriteStudyTemplateService:()=>r});var n=i(713917);class r extends n.CommonJsonStoreService{constructor(e,t){super(e,t,"FAVORITE_STUDY_TEMPLATES_CHANGED","StudyTemplates.quicks",[])}remove(e){this.set(this.get().filter(t=>t!==e))}}},436046:(e,t,i)=>{"use strict";i.d(t,{TopLeftButtonBootloader:()=>l});var n=i(510013),r=i(144154);const s=parseInt(r["top-left-button-height"]),o=parseInt(r["top-left-button-width"]);var a=i(372829);class l extends n.ChunkLoader{constructor(e){super(),this._props=e,this._props.resizerBridge.negotiateHeight(s),this._props.resizerBridge.negotiateWidth(o),this._props.resizerBridge.container.value().appendChild(function(){const e=document.createElement("div");return e.classList.add(a.topLeftButton,a.stub),e}())}_startLoading(){return this._loadRenderer().then(e=>new e(this._props.resizerBridge.container.value(),this._props))}_loadRenderer(){
return Promise.all([i.e(69129),i.e(2e3),i.e(86363),i.e(66708),i.e(9954),i.e(53466),i.e(24555),i.e(94763),i.e(63921),i.e(44408),i.e(6096),i.e(20976),i.e(20954),i.e(70637),i.e(93557),i.e(83231),i.e(62535),i.e(6162),i.e(75514),i.e(76784),i.e(50971),i.e(44320),i.e(6510),i.e(39863)]).then(i.bind(i,970259)).then(e=>e.TopLeftButtonRenderer)}}},564757:(e,t,i)=>{"use strict";function n(e){return e.getAll().some(e=>e.isInitialized())}function r(e,t){const i=e.getAll(),n=()=>{t(),i.forEach(e=>{e.chartWidgetInitialized.unsubscribe(null,n)})};i.forEach(e=>{e.chartWidgetInitialized.subscribe(null,n,!0)})}i.r(t),i.d(t,{isAnyChartWidgetInitialized:()=>n,waitAnyChartWidgetInitialized:()=>r})},964304:(e,t,i)=>{"use strict";i.d(t,{getFavoriteDrawingToolbarPromise:()=>o,createFavoriteDrawingToolbar:()=>a});i(787236);var n=i(351026);let r=null,s=null;function o(){return s}function a(){null===s&&(s=Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(86363),i.e(15998),i.e(7427),i.e(53466),i.e(87836),i.e(63921),i.e(3520),i.e(57419),i.e(87670),i.e(19042),i.e(56909),i.e(81112),i.e(86416),i.e(59284),i.e(52567),i.e(90026),i.e(70323),i.e(97179),i.e(75514),i.e(29594),i.e(83243),i.e(91890),i.e(40968),i.e(14085),i.e(88607),i.e(22306)]).then(i.bind(i,196786)).then(({FavoriteDrawingToolbar:e})=>(r=null!==r?r:new e({left:window.innerWidth/2,top:n.HEADER_TOOLBAR_HEIGHT_EXPANDED+61}),r)))}},985692:(e,t,i)=>{"use strict";i.d(t,{checkAuthBeforeSaveLoad:()=>r});var n=i(611688);function r(e,t){n.enabled("saveload_requires_authentication")?window.runOrSignIn(e,t):e()}},976387:(e,t,i)=>{"use strict";i.d(t,{LoadChartService:()=>d});var n=i(611688),r=i(713917);class s extends r.CommonJsonStoreService{constructor(e,t){super(e,t,"FAVORITE_CHARTS_CHANGED","loadChartDialog.favorites",{})}}var o=i(602466),a=i(226722),l=i(62802),c=i(985692),u=i(410685);class d extends u.DialogRenderer{constructor(e=null){super(),this._favoriteChartsService=new s(a.TVXWindowEvents,l),this._chartWidgetCollection=null,this._promise=null,this._dialog=null,this._subscribe=e=>{this._setVisibility(e)},this._getChartEntry=e=>({id:e.id,url:e.url,title:e.name,symbol:e.short_symbol,interval:e.interval,toolsCount:0,modified:e.modified_iso,active:()=>this._isActiveChart(e.id),openAction:()=>o.backend.loadChart(e),deleteAction:()=>o.backend.removeChart(e.image_url).then(()=>this._deleteChart(e.id)),favoriteAction:this._updateFavorites}),this._updateFavorites=e=>this._favoriteChartsService.set(e),this._isActiveChart=e=>null!==this._chartWidgetCollection&&e===this._chartWidgetCollection.metaInfo.id.value(),this._deleteChart=e=>{this._isActiveChart(e)&&(n.enabled("saveload_storage_customization")?null!==this._chartWidgetCollection&&this._chartWidgetCollection.clearChartMetaInfo():location.href="/chart/"+location.search)},this._chartWidgetCollection=e}showLoadDialog(){(0,c.checkAuthBeforeSaveLoad)(this._showLoadDialog.bind(this),{source:"Load chart",sourceMeta:"Chart"})}show(){this.showLoadDialog()}hide(){var e,t;null===(e=this._dialog)||void 0===e||e.hide(),
null===(t=this._dialog)||void 0===t||t.visible().unsubscribe(this._subscribe)}_showLoadDialog(){(n.enabled("saveload_requires_authentication")&&!window.is_authenticated?Promise.resolve([]):o.backend.getCharts()).then(e=>e.map(this._getChartEntry)).then(e=>{const t=this._promise=Promise.all([i.e(69129),i.e(2e3),i.e(82888),i.e(86363),i.e(25113),i.e(34956),i.e(77962),i.e(46238),i.e(85617),i.e(10510),i.e(93037),i.e(88740),i.e(56909),i.e(81112),i.e(21291),i.e(86772),i.e(30110),i.e(10886),i.e(2832),i.e(75514),i.e(69397),i.e(83789),i.e(92697),i.e(80276),i.e(75009)]).then(i.bind(i,394632)).then(i=>{if(this._promise===t){this._dialog&&(this._dialog.hide(),this._dialog.visible().unsubscribe(this._subscribe));const t={charts:e,favoriteChartsService:this._favoriteChartsService,chartWidgetCollection:this._chartWidgetCollection};this._dialog=new i.LoadChartDialogRenderer(t),this._dialog.visible().subscribe(this._subscribe),this._dialog.show()}})})}}},501897:(e,t,i)=>{"use strict";i.d(t,{SaveChartService:()=>W});var n=i(611688),r=i(262325),s=i.n(r),o=i(575242),a=i(226722),l=i(62802),c=i(251954),u=i(911730),d=i(985692),h=i(125226);i(897116);var _=i(787236),g=i(86674),p=i(552279),m=i(229534),f=i(503595),v=i(314802);const b=_.t("Error creating the chart layout copy"),y=_.t("We are doing some brief daily maintenance. Charts will be back really soon, thanks for your patience!"),w=_.t("Your browser seems to be offline");function S(e,t={}){window.runOrSignIn(()=>{(0,f.asyncWindowOpen)(async function(e,t){let i,n;try{n=await(0,g.fetch)(`/charts/${e}/clone/`,{method:"POST",body:JSON.stringify(t),credentials:"include"});const r=n.headers.get("location");if(n.ok&&r)return(0,v.urlWithMobileAppParams)(r);i=(await n.json()).code}catch(e){}"count_limit"===i||"login_required"===i?(0,p.reloginOrGoPro)({feature:"savedChartsLimit"}):n||!1!==navigator.onLine?n&&n.status>=500||"feature_disabled"===i?(0,m.showErrorDialog)({content:y}):(0,m.showErrorDialog)({content:b}):(0,m.showErrorDialog)({content:w});return}(e,t))},{source:"Clone_chart_layout"})}var C=i(602466),P=i(560507),T=i(833813);async function E(){var e;if(!window.is_authenticated)return!1;if(!n.enabled("saved_charts_count_restriction"))return!0;const t=null===(e=(0,P.getConfig)(T.ProductFeatures.CHART_STORAGE))||void 0===e?void 0:e.limit;if(void 0===t||t<=0)return!1;try{return t>await new Promise(C.backend.getChartsCount)}catch(e){return!1}}var I=i(779923);class L{constructor(e,t){this._visibility=new(s())(!1),this._chartWidgetCollection=e,this._doSave=t}hide(){var e;null===(e=this._hide)||void 0===e||e.call(this),this._visibility.setValue(!1)}visible(){return this._visibility.readonly()}}class A extends L{cloneChart(){this._cloneChart().then(()=>this._visibility.setValue(!0))}show(){(0,d.checkAuthBeforeSaveLoad)(this.cloneChart.bind(this),{source:"Clone chart"})}async _cloneChart(){await new Promise(e=>{window.runOrSignIn(e,{source:"Clone_chart_layout"})});const e=this._chartWidgetCollection,t=await E(),i=e.metaInfo.name.value();t?this._hide=await(0,I.showRename)({title:(0,
_.t)("Copy Chart Layout"),text:(0,_.t)("Enter a new chart layout name")+":",maxLength:64,initValue:(0,_.t)("{title} copy",{context:"ex: AAPL chart copy"}).format({title:e.metaInfo.name.value()}),onRename:({newValue:t,dialogClose:r})=>{n.enabled("saveload_storage_customization")?(e.metaInfo.uid.deleteValue(),e.metaInfo.id.deleteValue(),e.metaInfo.name.setValue(t),this._doSave(void 0,void 0,()=>{e.metaInfo.name.setValue(i)})):S(e.metaInfo.uid.value(),{name:t}),r()},onClose:()=>this._visibility.setValue(!1)}):(0,p.reloginOrGoPro)({feature:"savedChartsLimit"})}}class D extends L{show(e,t,i){this._saveNewChart(e,t,i).then(()=>this._visibility.setValue(!0))}async _saveNewChart(e,t,i){const n=this._chartWidgetCollection,r=n.metaInfo.name.value();await E()?this._hide=await(0,I.showRename)({title:(0,_.t)("Save New Chart Layout"),text:(0,_.t)("Enter a new chart layout name")+":",maxLength:64,initValue:r,onRename:({newValue:s,dialogClose:o})=>{n.metaInfo.name.setValue(s),this._doSave(e,t,()=>{n.metaInfo.name.setValue(r),null==i||i()}),o()},onClose:()=>this._visibility.setValue(!1)}):(0,p.reloginOrGoPro)({feature:"savedChartsLimit"})}}class k extends L{show(){this._renameChart(),this._visibility.setValue(!0)}_renameChart(){(0,d.checkAuthBeforeSaveLoad)(async()=>{const e=this._chartWidgetCollection,t=e.metaInfo.name.value();this._hide=await(0,I.showRename)({title:(0,_.t)("Rename Chart Layout"),text:(0,_.t)("Enter a new chart layout name")+":",maxLength:64,initValue:t,onRename:({newValue:i,dialogClose:n})=>{e.metaInfo.name.setValue(i),this._doSave(void 0,void 0,()=>{e.metaInfo.name.setValue(t)}),n()},onClose:()=>this._visibility.setValue(!1)})},{source:"Rename chart"})}}class W{constructor(e,t){this._autosaveTimer=null,this._watchedAutoSaveEnabled=new(s()),this._toggleAutoSaveEnabledHandler=this._toggleAutoSaveEnabled.bind(this),this._doSave=(e,t,i,n)=>{const r=this._chartWidgetCollection;void 0!==e&&e(),this._chartSaver.saveChartSilently(e=>{var i;i=r.metaInfo.uid.value(),"/chart/"===location.pathname&&(location.href="/chart/"+i),void 0!==t&&t(e)},()=>{void 0!==i&&i()},{autoSave:Boolean(n)})},this._chartWidgetCollection=e,this._chartSaver=t,this._createController=new D(e,this._doSave),this._renameController=new k(e,this._doSave),this._saveAsController=new A(e,this._doSave),this._autoSaveEnabledSetting=new o.AutoSaveEnabledService(a.TVXWindowEvents,l),this._chartSaver.chartSizeLimitExceeded().subscribe(null,()=>{const e=this._chartWidgetCollection.activeChartWidget.value();Promise.all([i.e(80509),i.e(66708),i.e(16061),i.e(84575),i.e(23450),i.e(56752),i.e(26820)]).then(i.bind(i,233544)).then(({showSizeLimitExceededDialog:t})=>{t(e)})}),this._chartChangesWatcher=new u.ChartChangesWatcher(e.undoHistory,e.lineToolSynchronizerHasChanges,t,c),e.saveKeysPressed().subscribe(this,this.saveChartOrShowTitleDialog);{const e=this._autoSaveEnabledSetting.get();e&&this._enableAutoSave(),this._watchedAutoSaveEnabled.setValue(e),this._watchedAutoSaveEnabled.subscribe(this._toggleAutoSaveEnabledHandler),
this._autoSaveEnabledSetting.getOnChange().subscribe(this,this._autoSaveEnabledSettingHandler)}}autoSaveEnabled(){return this._watchedAutoSaveEnabled}destroy(){this._watchedAutoSaveEnabled.unsubscribe(),delete this._watchedAutoSaveEnabled,this._autoSaveEnabledSetting.destroy(),delete this._autoSaveEnabledSetting}getCreateController(){return this._createController}getRenameController(){return this._renameController}getSaveAsController(){return this._saveAsController}cloneChart(){this._saveAsController.cloneChart()}saveChartAs(){this._saveAsController.show()}renameChart(){this._renameController.show()}saveNewChart(e,t,i){this._createController.show(e,t,i)}saveExistentChart(e,t,i){this._doSave(e,t,i)}hasChanges(){return this._chartChangesWatcher.hasChanges()}saveChartOrShowTitleDialog(e,t,i){const n=window.saver.isSaveInProcess(),r=this._chartChangesWatcher.hasChanges(),s=!!this._chartWidgetCollection.metaInfo.id.value();window.is_authenticated&&(n||!r&&s)||(0,d.checkAuthBeforeSaveLoad)(()=>{null!=this._chartWidgetCollection.metaInfo.id.value()?this.saveExistentChart(e,t,i):this.saveNewChart(e,t,i)},{source:"Save chart",sourceMeta:"Chart"})}whenReadyToSave(e){this._chartSaver.whenReadyToSave(e)}saveToJSON(){return this._chartSaver.saveToJSON()}saveChartSilently(e,t,i){this._chartSaver.saveChartSilently(e,t,i)}setAutoSaveEnabled(e){window.is_authenticated&&window.saver.isSaveInProcess()||(0,d.checkAuthBeforeSaveLoad)(()=>{this._watchedAutoSaveEnabled.setValue(e)},{source:"AutoSave chart"})}saveChartLineTools(e,t,i){return this._chartSaver.saveChartLineTools(e,t,i)}_autoSaveEnabledSettingHandler(e){this._watchedAutoSaveEnabled.setValue(e)}_toggleAutoSaveEnabled(e){window.is_authenticated&&(e?this._enableAutoSave():this._disableAutoSave(),this._autoSaveEnabledSetting.set(e,{forceFlush:!0}))}_enableAutoSave(){this._chartChangesWatcher.getOnChange().subscribe(this,this._onStateChanged),this._chartChangesWatcher.hasChanges()&&this._doSave()}_disableAutoSave(){this._stopAutosave(),this._chartChangesWatcher.getOnChange().unsubscribeAll(this)}_onStateChanged(e){e?this._startAutosave():this._stopAutosave()}_startAutosave(){n.enabled("charts_auto_save")&&null===this._autosaveTimer&&(this._autosaveTimer=setTimeout(()=>{this._autosaveTimer=null,window.is_authenticated?this._chartWidgetCollection.metaInfo.id.value()&&this._doSave(void 0,void 0,void 0,!0):this._startAutosave()},(0,h.isFeatureEnabled)("chart_autosave_2min")?12e4:(0,h.isFeatureEnabled)("chart_autosave_3min")?18e4:(0,h.isFeatureEnabled)("chart_autosave_5min")?3e5:(0,h.isFeatureEnabled)("chart_autosave_7min")?42e4:(0,h.isFeatureEnabled)("chart_autosave_10min")?6e5:(0,h.isFeatureEnabled)("chart_autosave_20min")?12e5:(0,h.isFeatureEnabled)("chart_autosave_30min")?18e5:(0,h.isFeatureEnabled)("chart_autosave_year")?31536e6:6e4))}_stopAutosave(){null!==this._autosaveTimer&&(clearInterval(this._autosaveTimer),this._autosaveTimer=null)}}},747113:(e,t,i)=>{"use strict";i.d(t,{SharingChartService:()=>o});var n=i(262325),r=i.n(n),s=i(226722);class o{constructor(e,t,i=0){
this._requestInProgress=!1,this._watchedSharingEnabled=new(r()),this._sharingValueChangedEvent="SharingValueChanged",this._uid=t,this._chartId=i,this._watchedSharingEnabled.setValue(e),s.TVXWindowEvents.on(this._sharingValueChangedEvent,e=>{const t=JSON.parse(e);this._chartId===t.chartId&&this._watchedSharingEnabled.setValue(t.value)})}destroy(){this._watchedSharingEnabled.unsubscribe()}sharingEnabled(){return this._watchedSharingEnabled.readonly()}setSharingEnabled(e){window.runOrSignIn(()=>this._setSharing(e),{source:"Sharing chart"})}toggleSharing(){const e=!this._watchedSharingEnabled.value();return this.setSharingEnabled(e),e}async _setSharing(e){if(!1===this._requestInProgress&&this._watchedSharingEnabled.value()!==e){this._watchedSharingEnabled.setValue(e),this._sendSyncEvent({chartId:this._chartId,value:e});try{this._requestInProgress=!0,await this._saveSharingValue(e)}catch(t){this._watchedSharingEnabled.setValue(!e),this._sendSyncEvent({chartId:this._chartId,value:!e})}finally{this._requestInProgress=!1}}}_sendSyncEvent(e){s.TVXWindowEvents.emit(this._sharingValueChangedEvent,JSON.stringify(e))}_saveSharingValue(e){const t=JSON.stringify({is_private:!e});return fetch(`/api/v1/charts/${this._uid}/sharing/`,{headers:new Headers({"Content-Type":"application/json"}),method:"POST",credentials:"same-origin",body:t})}}},984552:(e,t,i)=>{"use strict";i.d(t,{StudyTemplates:()=>_});var n=i(787236),r=i(602466),s=i(345848),o=i(97639),a=i.n(o),l=i(262325),c=i.n(l),u=i(779923);const d=(0,i(911905).getLogger)("Platform.StudyTemplates"),h=(0,n.t)("Do you really want to delete Study Template '{name}' ?");class _{constructor(e){this._chartWidgetCollection=e.chartWidgetCollection,this._favoriteStudyTemplatesService=e.favoriteStudyTemplatesService,window.loginStateChange.subscribe(null,r.backend.invalidateStudyTemplatesList),this._list=new(c())([]),this._onChange=new(a()),this._list.subscribe(()=>this._onChange.fire())}findRecordByName(e){return this._list.value().find(t=>t.name===e)||null}showSaveAsDialog(){const e=this._chartWidgetCollection.activeChartWidget.value().model();Promise.all([i.e(48463),i.e(69129),i.e(82888),i.e(69875),i.e(8879),i.e(15998),i.e(25113),i.e(34956),i.e(7427),i.e(66333),i.e(47552),i.e(87836),i.e(77962),i.e(46238),i.e(85617),i.e(7345),i.e(88460),i.e(391),i.e(75514),i.e(92697),i.e(36631)]).then(i.bind(i,131271)).then(t=>{new t.StudyTemplateSaver({controller:e,onSave:e=>{this._list.setValue(e)}}).show()})}applyTemplate(e){const t=this.findRecordByName(e);null!==t?window.runOrSignIn(()=>{const e=this._chartWidgetCollection.activeChartWidget.value(),i=i=>{(0,s.trackEvent)("GUI","Load Study Template"),e.model().applyStudyTemplate(JSON.parse(i.content),t.name)};void 0!==t.id?t.is_default?r.backend.getStandardStudyTemplateContentById(t.id,i):r.backend.getStudyTemplateContentById(t.id,i):r.backend.getStudyTemplateContent(t.name).then(i)},{source:"Study templates apply"}):d.logNormal(`Template ${e} not found in cache`)}deleteStudyTemplate(e){const t=this.findRecordByName(e)
;null!==t?this._removeTemplate(t):d.logNormal(`Template ${e} not found in cache`)}list(){return this._list.value()}getOnChange(){return this._onChange}refreshStudyTemplateList(e){r.backend.getStudyTemplatesList().then(t=>{this._list.setValue(t),void 0!==e&&e()})}invalidate(){r.backend.invalidateStudyTemplatesList()}_removeTemplate(e){window.runOrSignIn(()=>{(0,u.showConfirm)({text:h.format({name:e.name}),onConfirm:({dialogClose:t})=>new Promise(i=>{const n=()=>{this.refreshStudyTemplateList(()=>{const n=this.list();this._list.setValue(n.filter(t=>t!==e)),this._favoriteStudyTemplatesService&&this._favoriteStudyTemplatesService.remove(e.name),i(),t()})};r.backend.invalidateStudyTemplatesList(),void 0!==e.id?r.backend.removeStudyTemplateById(e.id,n):r.backend.removeStudyTemplate(e.name).then(n)})})},{source:"Study templates delete"})}}},260339:(e,t,i)=>{"use strict";i.d(t,{takeChartSnapshotPromise:()=>a,takeChartSnapshot:()=>l,makeSnapshotRequest:()=>c});i(897116);var n=i(787236),r=i(611688),s=i(229534),o=i(86674);function a(e,t={}){return new Promise((i,n)=>{l(e,i,n,t)})}async function l(e,t,i,n={}){var r;const s=new FormData;if(void 0!==n.previews)for(const e of n.previews)s.append("previews[]",e);void 0!==n.cme&&s.append("cme",String(n.cme)),void 0!==n.wl&&s.append("wl",String(n.wl)),void 0!==n.onWidget&&s.append("onWidget",String(n.onWidget)),n.isReport&&s.append("isReport",String(n.isReport)),n.asyncSave&&s.append("asyncSave",String(n.asyncSave));const o=window.urlParams;o&&o.locale&&s.append("language",o.locale);const a=e.activeChartWidget.value(),l=a.widgetCustomer();void 0!==l&&s.append("customer",l);let u=a.properties().childs().timezone.value();"exchange"===u&&(u=(null===(r=a.model().mainSeries().symbolInfo())||void 0===r?void 0:r.timezone)||u),s.append("timezone",u),s.append("symbol",a.model().mainSeries().symbol());const d=await e.clientSnapshot({showHeaderMainSymbol:n.showHeaderMainSymbol}),h=await new Promise(e=>d.toBlob(e));null!==h&&s.append("preparedImage",h),c(s,t,i,n)}async function c(e,t,a,l={}){const c=r.enabled("charting_library_base")?l.snapshotUrl||"https://www.tradingview.com/snapshot/":"/snapshot/";try{const r=await(0,o.fetch)(c,{body:e,method:"POST",credentials:"same-origin"}),u=await r.text();if(r.ok)t(u);else{if("suspicious_chart_snapshots_error"===u){const e=(0,n.t)("Snapshot seems to contain prohibited content. Please contact {start_link}our support team{end_link} if you have received this by mistake.").format({start_link:'<a class="tv-dialog__link js-send-report-link" href="#" data-issue-type="other">',end_link:"</a>"});l.onInvalidSnapshotImage&&l.onInvalidSnapshotImage();return(0,s.createErrorDialog)({title:(0,n.t)("Your snapshot was flagged as suspicious"),content:e,btnType:"danger"}).then(e=>{e.on("afterOpen",()=>{i.e(1484).then(i.bind(i,780567)).then(({bugDialogCreationHandler:t})=>{t(),e.$el.find(".js-send-report-link").click(()=>{e.close()})})}),e.open()})}a()}}catch(e){a()}}},440977:(e,t,i)=>{"use strict";var n;i.d(t,{TradingPage:()=>n,maxPanelWidth:()=>r,panelWidth:()=>s,
panelHeight:()=>o}),function(e){e.DomPanel="domPanel",e.OrderPanel="orderPanel"}(n||(n={}));const r=400,s=315,o=451},110933:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TRADING_SERVICE:()=>r,tradingService:()=>s,waitTradingService:()=>o});var n=i(564894);const r={id:"TradingService"};function s(){return(0,n.hasService)(r)?(0,n.service)(r):null}function o(){return(0,n.waitServiceRegistered)(r)}},41872:(e,t,i)=>{"use strict";i.d(t,{settingsKeys:()=>n});const n={ACTIVE_BROKER:"trading.active_broker",PROPERTIES:"trading.chart.proterty",PROFIT_VIEW_TYPE:"trading.dom.profitViewType",ORDER_WIDGET_MODE:"trading.orderWidgetMode.",DOM_DURATION:"trading.domDuration.",TRADING_PANEL_OPENED:"trading.tradingPanelOpened",TRADING_PANEL_ACTIVE_PAGE:"trading.tradingPanelActivePage",PANEL_WIDTH:"trading.panelWidth",PANEL_HEIGHT:"trading.panelHeight",ORDER_PANEL_SETTINGS:"trading.orderPanelSettings",FAVORITE_BROKERS:"trading.panelFavorite",SHOW_TOOLTIP_FOR_SELECT_BROKER:"trading.showTooltipForSelectBroker",LOGIN_COUNTER:"trading.brokerLogInCounter",LOGOUT_COUNTER:"trading.brokerLogOutCounter",DISABLED_CONFIRMATIONS:"trading.disabledConfirmations",MOVE_TRADED_SOURCE_WITH_SHIFT:"trading.chart.moveWithShift"}},820187:(e,t,i)=>{"use strict";i.d(t,{TimeFormatter:()=>s});var n=i(381269),r=i(689765);class s{constructor(e){this._formatStr=e||"%h:%m:%s"}format(e){return n.customFormatters.timeFormatter?n.customFormatters.timeFormatter.format(e):this._formatStr.replace("%h",(0,r.numberToStringWithLeadingZero)(e.getUTCHours(),2)).replace("%m",(0,r.numberToStringWithLeadingZero)(e.getUTCMinutes(),2)).replace("%s",(0,r.numberToStringWithLeadingZero)(e.getUTCSeconds(),2))}formatLocal(e){return n.customFormatters.timeFormatter?n.customFormatters.timeFormatter.formatLocal?n.customFormatters.timeFormatter.formatLocal(e):n.customFormatters.timeFormatter.format(e):this._formatStr.replace("%h",(0,r.numberToStringWithLeadingZero)(e.getHours(),2)).replace("%m",(0,r.numberToStringWithLeadingZero)(e.getMinutes(),2)).replace("%s",(0,r.numberToStringWithLeadingZero)(e.getSeconds(),2))}}},782991:(e,t,i)=>{"use strict";i.d(t,{PinePerm:()=>l});i(823127);var n=i(86674),r=i(823127);const s="user__username";function o(e){const t=new FormData;return t.append("pine_id",e.pine_id),t.append("username_recip",e.username_recip),e.expiration&&t.append("expiration",e.expiration),t}class a extends Error{constructor(e,t,i){super(e),this.title=i,this.code=t}}var l;!function(e){let t;!function(e){e.UserDoesNotHavePermission="user_does_not_have_permission",e.UserIsBanned="user_is_banned",e.Exists="exists"}(t=e.StatusCode||(e.StatusCode={})),e.add=function(e){return window.is_authenticated?(0,n.fetch)("/pine_perm/add/",{body:o(e),credentials:"include",method:"POST"}).then(e=>e.json().then(t=>{const i=t.status;if("exists"===i)throw new a(i,i);if(!e.ok)throw new a(t.detail,t.code,t.title)})):Promise.reject()},e.remove=function(e,t){return window.is_authenticated?r.ajax({data:{pine_id:t,username_recip:e},dataType:"json",type:"POST",url:"/pine_perm/remove/"}):r.Deferred().reject()},
e.listUsers=function(e){const{pineId:t,next:i,prev:n,username:o,orderBy:a=s,limit:l=10}=e;return!window.is_authenticated||n&&!i?r.Deferred().reject():r.ajax({data:{pine_id:t,username:o},dataType:"json",type:"POST",url:i||n?""+i:`/pine_perm/list_users/?limit=${l}&order_by=${a}`})},e.listScripts=function(){return window.is_authenticated?r.ajax({dataType:"json",type:"POST",url:"/pine_perm/list_scripts/"}):r.Deferred().reject()},e.modifyUserExpiration=function(e){return window.is_authenticated?(0,n.fetch)("/pine_perm/modify_user_expiration/",{body:o(e),credentials:"include",method:"POST"}).then(e=>{if(!e.ok)return e.json().then(e=>{throw Error(e.detail)})}):Promise.reject()},e.numberOfUsersWithAccess=function(e){return window.is_authenticated?(0,n.fetch)("/pine_perm/list_users/?pine_id="+e,{method:"GET"}).then(e=>e.ok?e.json():e.json().then(e=>{throw new a(e.detail)})):Promise.reject()}}(l||(l={}))},434342:(e,t,i)=>{"use strict";i.d(t,{ScriptUpdater:()=>m});var n=i(588537),r=i(787236),s=i(277036),o=i(813652),a=i(624635);const l={asObject:!0,onlyAtomValues:!0,valuesAsIsFromProperties:!0,skipHiddenInputs:!0,skipBooleanInputs:!1};function c(e){const t=e.metaInfo();return{inputsInfoList:t.inputs,inputDefaults:t.defaults.inputs,inputValues:e.inputs(l)}}function u(e,t,i){const n=i.inputValues,r=i.inputDefaults,s=t.defaults.inputs,o={};for(const e of t.inputs){if(e.isHidden)continue;const t=i.inputsInfoList.find(t=>t.id===e.id);if(void 0===t||t.isHidden)continue;const l=n[t.id];if(void 0===l)continue;if(t.type!==e.type)continue;if((r&&r[t.id])===(s&&s[e.id])){if((0,a.isStudyInputOptionsInfo)(e)){if(!(0,a.isStudyInputOptionsInfo)(t))continue;if(-1===e.options.indexOf(l))continue}if("integer"===e.type||"float"===e.type||"price"===e.type||"time"===e.type){if(void 0!==e.max&&l>e.max)continue;if(void 0!==e.min&&l<e.min)continue}o[e.id]=l}}return e.insertStudyWithoutCheck(t,o)}var d=i(746305),h=i(270617);const _=new Map,g=new s.TranslatedString("update {title} script",(0,r.t)("update {title} script"));function p(e,t,i){const n=[],r=t.dataSources();for(let t=r.length-1;t>=0;t--){const s=r[t];if(!(0,d.isStudy)(s))continue;const a=s.metaInfo();if(!a.pine)continue;if(a.scriptIdPart!==e)continue;const l=o.Version.parse(a.pine.version),c=!i||a.pine.version.toString()!==i.toString();l.minor()>0&&c||n.push(s)}return n}class m{constructor(e){this._chartWidgetCollection=e}onTVScriptLegacyPineProcessed(e){if(!e.scriptMetaInfo)return;if(!e.scriptMetaInfo.scriptIdPart)return;const t=this._chartModels();for(let i=t.length-1;i>=0;i--){const n=t[i],r=e.scriptMetaInfo;n.model().studyMetaInfoRepository().addPineMetaInfo(r)}}onTVScriptModified(e){if(!e.scriptMetaInfo)return;const t=e.scriptMetaInfo.scriptIdPart;if(!t)return;const r=this._chartModels();for(let i=r.length-1;i>=0;i--){const s=r[i],o=p(t,s,e.scriptVersionToUpdate),a=[];for(let e=0;e<o.length;++e){const t=o[e],i=(0,n.ensureNotNull)(s.paneForSource(t)),r=i.isOverlay(t)?null:t.priceScale();a.push({pane:i,priceScale:r})}const l=e.scriptMetaInfo;(0,n.assert)(!(0,
h.isAbsent)(l),"Cannot update scripts, because script metaInfo is absent");const d=s.model().studyMetaInfoRepository().addPineMetaInfo(l);s.beginUndoMacro(g.format({title:d.shortDescription||d.description||""}));for(let e=a.length-1;e>=0;e--){const t=o[e],i=a[e];let r=c(t);0===Object.keys(r.inputValues).length?_.has(t.id())&&(r=(0,n.ensureDefined)(_.get(t.id()))):_.set(t.id(),r);const l=u(s,d,r);l&&(_.has(t.id())&&_.set(l.id(),(0,n.ensureDefined)(_.get(t.id()))),d.linkedToSeries||(s.mergeToPane(l,i.pane),null!==i.priceScale?s.moveToScale(l,i.pane,i.priceScale,null):s.detachNoScale(l,i.pane)),s.removeSource(t,!1))}s.endUndoMacro()}const s=i.c[294896];s&&s.exports.ScriptEditorWidget.onScriptModified(e,!!e.isSelfCall)}onTVScriptDeleted(e){const t=e.scriptIdPart;if(!t)return;const n=this._chartModels();let r=null;for(let e=n.length;e--&&(r=n[e].model().studyMetaInfoRepository().findByIdSync({type:"pine",pineId:t}),null===r););null!==r&&r.removeDefaults();const s=i.c[294896];s&&s.exports.ScriptEditorWidget.onScriptDeleted(e,!!e.isSelfCall)}onTVScriptRenamed(e){if(!e.scriptIdPart)return;const t=i.c[294896];t&&t.exports.ScriptEditorWidget.onScriptRenamed(e,!!e.isSelfCall)}onScriptOpen(){null!==this._chartWidgetCollection&&this._chartWidgetCollection.getAll().forEach(e=>{const t=e.paneWidgets();for(let e=t.length;e--;){const i=t[e].statusWidget();null!==i&&i.updateLayout()}})}_chartModels(){return null===this._chartWidgetCollection?[]:this._chartWidgetCollection.getAll().map(e=>e.model())}}},201642:(e,t,i)=>{"use strict";i.d(t,{SubscriptionEventType:()=>c,subscriptionNotification:()=>d});var n=i(787236),r=i(226722),s=i(97639),o=i.n(s);const a=(0,i(911905).getLogger)("SubscriptionNotification"),l="subscriptionPermissionHasChanged";var c;!function(e){e.Subscribe="subscribe",e.Unsubscribe="unsubscribe",e.Downgrade="downgrade",e.Upgrade="upgrade",e.Change="change"}(c||(c={}));class u{constructor(){this.stateChanged=new(o())}on(e,t){r.TVXWindowEvents.on(l,i=>{let n=null;try{n=JSON.parse(i)}catch(e){return void a.logWarn("Failed to parse JSON: "+i)}e!==c.Change&&e!==n.type||t(n)}),this.stateChanged.subscribe(null,i=>{e!==c.Change&&e!==i.type||t(i)})}showNotification(){Promise.all([i.e(69129),i.e(82888),i.e(25113),i.e(34956),i.e(18844),i.e(25380),i.e(39961),i.e(95276),i.e(75514),i.e(24377),i.e(92697),i.e(38578),i.e(7940),i.e(89137),i.e(30870)]).then(i.bind(i,163592)).then(({showSubscriptionHasBeenChangedDialog:e})=>{e({pushReload:!0})})}showChartNotification(){Promise.all([i.e(69129),i.e(82888),i.e(25113),i.e(34956),i.e(18844),i.e(25380),i.e(39961),i.e(95276),i.e(75514),i.e(24377),i.e(92697),i.e(38578),i.e(7940),i.e(89137),i.e(30870)]).then(i.bind(i,163592)).then(({showSubscriptionHasBeenChangedDialog:e})=>{e({content:n.t("You've upgraded your subscription. Please reload the chart to fire up the new changes.")})})}showBillingTimeoutNotification(){
Promise.all([i.e(69129),i.e(82888),i.e(25113),i.e(34956),i.e(18844),i.e(25380),i.e(39961),i.e(95276),i.e(75514),i.e(24377),i.e(92697),i.e(38578),i.e(7940),i.e(89137),i.e(30870)]).then(i.bind(i,163592)).then(({showSubscriptionHasBeenChangedDialog:e})=>{e({title:n.t("Subscription details are no longer valid"),content:n.t("You were inactive for a long period of time. Please refresh the page to see your subscription status."),pushReload:!0})})}xWindowEventsEmit(e){r.TVXWindowEvents.emit(l,JSON.stringify(e))}currentTabEmit(e){this.stateChanged.fire(e)}emit(e){this.currentTabEmit(e),this.xWindowEventsEmit(e)}static getInstance(){return u._instance||(u._instance=new u),u._instance}}function d(){return u.getInstance()}},343719:(e,t,i)=>{"use strict";i.d(t,{defaultCompareSymbols:()=>n});const n=[{symbol:"SPX",title:"S&P 500"},{symbol:"NDX",title:"US 100"},{symbol:"DJI",title:"Dow 30"},{symbol:"NI225",title:"Nikkei 225"},{symbol:"DAX",title:"DAX"},{symbol:"UKX",title:"FTSE 100"}]},155790:(e,t,i)=>{"use strict";function n(){return i.e(45702).then(i.bind(i,328664))}function r(e){n().then(t=>t.showDisconnectedMessage(e))}function s(e){n().then(t=>t.showCriticalErrorMessage(e))}i.r(t),i.d(t,{showDisconnectedMessage:()=>r,showCriticalErrorMessage:()=>s})},477393:(e,t,i)=>{"use strict";i.d(t,{FundamentalsDialogLoader:()=>s});var n=i(262325),r=i.n(n);class s{constructor(e){this._visibility=new(r())(!1),this._dialogPromise=null,this._dialog=null,this._chartWidgetCollection=e}visible(){return this._visibility.readonly()}show(e,t){return null===this._dialog?this._requestDialog().then(()=>this.show(e,t)):(this._dialog.show(e,t),Promise.resolve())}hide(){null!==this._dialog&&this._dialog.hide()}getDialog(){return this._dialog}_requestDialog(){if(null===this._dialogPromise){const e=Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(82888),i.e(86363),i.e(25113),i.e(34956),i.e(18844),i.e(53466),i.e(87836),i.e(77962),i.e(46238),i.e(85617),i.e(24555),i.e(57419),i.e(26149),i.e(93037),i.e(88740),i.e(71577),i.e(73944),i.e(81112),i.e(16767),i.e(39859),i.e(66991),i.e(70637),i.e(55198),i.e(63669),i.e(56666),i.e(59637),i.e(36180),i.e(11310),i.e(75514),i.e(69397),i.e(6456)]).then(i.bind(i,122080)).then(e=>new e.FinancialsContainer(this._chartWidgetCollection));this._dialogPromise=e.then(e=>{this._dialog=e,this._dialog.visible().subscribe(e=>{this._visibility.setValue(e)}),this._dialog.show()})}return this._dialogPromise}}},780028:(e,t,i)=>{"use strict";i.d(t,{StudyMarket:()=>o});var n=i(647013),r=i(262325),s=i.n(r);class o{constructor(e,t){this._visibility=new(s())(!1),this._dialogPromise=null,this._dialog=null,this._chartWidgetCollection=e,this._options=t,this._indicatorsPreloader=new n.IndicatorsPreloader(e)}visible(){return this._visibility.readonly()}show(e,t){var i;const n=this._indicatorsPreloader.getIndicatorPromises();null===this._dialog&&this._requestDialog(e,t),null===(i=this._dialog)||void 0===i||i.open(e,n,t)}hide(){var e;null===(e=this._dialog)||void 0===e||e.hide()}resetAllPages(){var e
;null===(e=this._dialog)||void 0===e||e.resetAllStudies()}_requestDialog(e,t){var n;if(null===this._dialogPromise){let r;r=(null===(n=this._options)||void 0===n?void 0:n.onWidget)?Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(82888),i.e(86363),i.e(25113),i.e(34956),i.e(18844),i.e(53466),i.e(87836),i.e(77962),i.e(46238),i.e(85617),i.e(24555),i.e(57419),i.e(26149),i.e(93037),i.e(88740),i.e(71577),i.e(73944),i.e(81112),i.e(16767),i.e(39859),i.e(66991),i.e(70637),i.e(55198),i.e(63669),i.e(56666),i.e(59637),i.e(36180),i.e(11310),i.e(75514),i.e(69397),i.e(6456)]).then(i.bind(i,210794)).then(e=>new e.IndicatorsLibraryContainer(this._chartWidgetCollection,this._options)):Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(82888),i.e(86363),i.e(25113),i.e(34956),i.e(18844),i.e(53466),i.e(87836),i.e(77962),i.e(46238),i.e(85617),i.e(24555),i.e(57419),i.e(26149),i.e(93037),i.e(88740),i.e(71577),i.e(73944),i.e(81112),i.e(16767),i.e(39859),i.e(66991),i.e(70637),i.e(55198),i.e(63669),i.e(56666),i.e(59637),i.e(36180),i.e(11310),i.e(75514),i.e(69397),i.e(6456)]).then(i.bind(i,962741)).then(e=>new e.IndicatorsContainer(this._chartWidgetCollection)),this._dialogPromise=r.then(i=>{this._dialog=i,this._dialog.visible().subscribe(e=>{this._visibility.setValue(e)}),this._dialog.open(e,void 0,t)})}return this._dialogPromise}}},542589:(e,t,i)=>{"use strict";var n,r=i(823127),s=(n={},{suggest:function(e,t){var i=r.ajax({url:t||"/pubscripts-suggest-json/",type:"GET",data:{search:e},dataType:"json"});return i.done((function(e){if(e&&e.results)for(var t=0;t<e.results.length;t++)n[e.results[t].scriptIdPart]=TradingView.clone(e.results[t])})),i},info:function(e,t=!1){for(var i=r.Deferred(),s=[],o=[],a=0;a<e.length;a++){var l=e[a];n[l]?s.push(TradingView.clone(n[l])):o.push(l)}if(!o.length)return i.resolve(s).promise();var c={scriptIdPart:o.join(","),show_hidden:t};return r.ajax({url:"/pubscripts-get/",type:"POST",data:c,dataType:"json"}).done((function(e){for(var t in e=e||[]){var r=e[t];n[r.scriptIdPart]=TradingView.clone(r),s.push(r)}i.resolve(s)})).fail((function(){i.reject()})),i},invalidateCache:function(e){e.forEach((function(e){delete n[e]}))},cleanCache:function(){n=[]}});e.exports=s},960173:(e,t,i)=>{"use strict";i.d(t,{ChartSaverBase:()=>r});var n=i(388482);class r{constructor(e){this._chartWidgetCollection=e}saveChartLineTools(e,t,i){{const r=(0,n.getChartStorage)(),s=this._chartWidgetCollection.metaInfo.uid.value();return r.saveLineToolsAndGroups(s,e,t,i)}}_getCommonSavingInfo(e){const t=this._chartWidgetCollection,i=this._chartWidgetCollection.chartsSymbols(),n=i[t.activeChartWidget.value().id()],r={...(s=n,{...s,legs:JSON.stringify(null!==(o=s.legs)&&void 0!==o?o:[])})};var s,o;const a=t.metaInfo;return a.id.value()&&(r.id=a.id.value()),r.name=a.name.value()||"",r.description=a.description.value()||"",r.charts_symbols=function(e){const t={};for(const i of Object.keys(e))t[i]={symbol:e[i].symbol};return JSON.stringify(t)}(i),r.is_realtime=r.is_realtime=e?"0":"1",r}_saveLineToolsToStorage(){{
const e=this._chartWidgetCollection.lineToolsAndGroupsDTOs(),t=performance.now(),i=(e,t)=>{const i=Array.from(t.entries()).filter(e=>{const t=e[1];return t.sources.size>0||t.groups.size>0}).map(t=>this.saveChartLineTools(e,t[1],t[0]));return Promise.all(i)},n=Array.from(e.entries()).map(e=>{const t=e[0],n=e[1];return i(t,n)});return Promise.all(n).then(e=>{const i=e.reduce((e,t)=>e.concat(t),[]);this._chartWidgetCollection.resetLineToolsInvalidated(t,i)})}}}},798935:(e,t,i)=>{"use strict";var n=i(97639),r=i(823127),s=i(787236).t,o=i(588537).assert,a=i(366156),l=i(345848).trackEvent,c=i(629588).createGoProDialog,u=i(552279).reloginOrGoPro,d=i(542589),h=i(251954),_=i(125226).isFeatureEnabled,g=i(503595).asyncWindowOpen,p=i(281640),m=i(779923).showWarning,f=i(270617).deepEquals,v=i(602466).backend,b=i(960173).ChartSaverBase;const y={saverOnPublishError:s("The publication preview could not be loaded. Please disable your browser extensions and try again."),saveLibraryError:s("Failed to save library"),saveScriptError:s("Failed to save script")};function w(e,t){e.content=JSON.stringify(t)}function S(e){return e.returnValue=s("Script may be not updated if you leave the page."),e.returnValue}t.ChartSaver=class extends b{constructor(e){super(e),this._chartAboutToBeSavedDelegate=new n,this._chartSavedDelegate=new n,this._prevChartState=null,this._chartSizeLimitExceededDelegate=new n,this._savingToken=null}chartSizeLimitExceeded(){return this._chartSizeLimitExceededDelegate}chartAboutToBeSaved(){return this._chartAboutToBeSavedDelegate}chartSaved(){return this._chartSavedDelegate}whenReadyToSave(e){var t=this._chartWidgetCollection.activeChartWidget.value().model().mainSeries();if(t.hasDelayedSymbolIntervalChange()){var i,n=null;i=function(){t.dataEvents().symbolError().unsubscribe(null,n,!0),e()},n=function(){t.dataEvents().symbolResolved().unsubscribe(null,i,!0)},t.dataEvents().symbolResolved().subscribe(null,i,!0),t.dataEvents().symbolError().subscribe(null,n,!0)}else e()}saveToJSON(){var e=this._getCommonSavingInfo(!1);return w(e,this._getChartWidgetCollectionState(!1,!0)),e}_getChartWidgetCollectionState(e,t,i,n,r){return e||(t=!0,n=!1),t?this._chartWidgetCollection.state(!!e,i,n,r):this._chartWidgetCollection.activeChartWidget.value().state(!!e,i,n,r)}publishChart(e){var t=this;return new Promise((function(n){l("GUI","Publish Chart");var s=t,o={accessType:(e=e||{}).isPrivate||TVSettings.getBool("publishchart.private",!1)?0:1,publishSource:e.publishSource,videoFilename:e.videoFilename,videoDuration:e.videoDuration,videoCam:e.videoCam},a=r(".publish-dropdown-container"),c=r(".publish-chart-button"),u={savePrivacySetting:!e.doNotSavePrivacySetting,onWidget:e.onWidget},d=e.onPublishUrl,h=e.onPublishError
;s._ideaPublisher?n(s._ideaPublisher.openPublication(o,u)):Promise.all([Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(69875),i.e(80509),i.e(8879),i.e(86363),i.e(15998),i.e(7427),i.e(66333),i.e(93713),i.e(47552),i.e(3848),i.e(16061),i.e(84575),i.e(23450),i.e(81692),i.e(49587),i.e(79486),i.e(1320),i.e(10496),i.e(7728),i.e(48247),i.e(26947),i.e(4901),i.e(7830),i.e(24410),i.e(23117),i.e(73332),i.e(75412),i.e(42289),i.e(80454),i.e(75514),i.e(97974),i.e(23393),i.e(72076),i.e(56406),i.e(59465),i.e(50629)]).then(i.bind(i,777483)),Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(69875),i.e(80509),i.e(8879),i.e(86363),i.e(15998),i.e(7427),i.e(66333),i.e(93713),i.e(47552),i.e(3848),i.e(16061),i.e(84575),i.e(23450),i.e(81692),i.e(49587),i.e(79486),i.e(1320),i.e(10496),i.e(7728),i.e(48247),i.e(26947),i.e(4901),i.e(7830),i.e(24410),i.e(23117),i.e(73332),i.e(75412),i.e(42289),i.e(80454),i.e(75514),i.e(97974),i.e(23393),i.e(72076),i.e(56406),i.e(59465),i.e(50629)]).then(i.bind(i,792011)),Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(69875),i.e(80509),i.e(8879),i.e(86363),i.e(15998),i.e(7427),i.e(66333),i.e(93713),i.e(47552),i.e(3848),i.e(16061),i.e(84575),i.e(23450),i.e(81692),i.e(49587),i.e(79486),i.e(1320),i.e(10496),i.e(7728),i.e(48247),i.e(26947),i.e(4901),i.e(7830),i.e(24410),i.e(23117),i.e(73332),i.e(75412),i.e(42289),i.e(80454),i.e(75514),i.e(97974),i.e(23393),i.e(72076),i.e(56406),i.e(59465),i.e(50629)]).then(i.bind(i,773792)),Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(69875),i.e(80509),i.e(8879),i.e(86363),i.e(15998),i.e(7427),i.e(66333),i.e(93713),i.e(47552),i.e(3848),i.e(16061),i.e(84575),i.e(23450),i.e(81692),i.e(49587),i.e(79486),i.e(1320),i.e(10496),i.e(7728),i.e(48247),i.e(26947),i.e(4901),i.e(7830),i.e(24410),i.e(23117),i.e(73332),i.e(75412),i.e(42289),i.e(80454),i.e(75514),i.e(97974),i.e(23393),i.e(72076),i.e(56406),i.e(59465),i.e(50629)]).then(i.bind(i,318596))]).then(([{CategoriesProvider:e},{ChartInfoProvider:t},{IdeasProvider:i},{IdeaPublisher:r}])=>{var l=new t({chartWidgetCollection:s._chartWidgetCollection}),_=new i({publish:function(e,t){return new Promise((function(i,n){var r={closeForm:function(){i()},showError:function(e){n(e)},onPublishUrl:d,onPublishError:h};try{s.onPublish(e,Object.assign({},t,r))}catch(e){n(y.saverOnPublishError)}}))}}),g=new e;s._ideaPublisher=new r({chartInfoProvider:l,ideasProvider:_,categoriesProvider:g,onOpenEditor:function(){a.addClass("disabled")},onMinimizeEditor:function(){a.removeClass("disabled"),c.addClass("inprogress")},onCloseEditor:function(){a.removeClass("disabled"),c.removeClass("inprogress")}}),n(s._ideaPublisher.openPublication(o,u))})}))}publishScript(e,t,i){var n=this;if(n._scriptPublisher)n._scriptPublisher.openPublication(e,t);else{var r=i.scriptPublisher,s=i.scriptsProvider,o=i.categoriesProvider,a=new s({publish:function(e){return new Promise((function(t,i){var r={closeForm:function(){if(e&&e.scriptPublication&&e.scriptPublication.updateScriptIdPart){var i=e.scriptPublication.updateScriptIdPart;d.invalidateCache([i]),
window.studyMarket&&window.studyMarket.resetAllPages()}t()},showError:function(e){i(e)}};try{n.onPublish(e,r)}catch(e){i(y.saverOnPublishError)}}))}});n._scriptPublisher=new r({scriptsProvider:a,categoriesProvider:new o,scriptType:e.scriptType,scriptTitle:e.title,existingLibraryInfo:e.existingLibraryInfo}),n._scriptPublisher.openPublication(e,t)}}onPublish(e,t){{var i=this;if(i.publishInProgress)return;var n=t&&t.publishAllLayout,o=i._getCommonSavingInfo(!0),c=!1;e.scriptPublication&&(e.scriptPublication.scriptProtection===p.Access.ACCESS_CLOSED_NEEDS_AUTH&&(c=!0),o.scriptProtection=parseInt(p.Access.MAP_NAME_TO_ID[e.scriptPublication.scriptProtection])),w(o,this._getChartWidgetCollectionState(!0,n,!0,c)),o.image=JSON.stringify(this._chartWidgetCollection.images({onlyActiveChart:!n}));const f=n=>{window.removeEventListener("beforeunload",S),i.publishInProgress=!1;var r=n.responseText||"";if("ok:"===r.substring(0,3)){var o=!1;if(t.savePrivacySetting){o=!e.is_public;TVSettings.setValue("publishchart.private",o)}var a=r.substring(3),l=JSON.parse(a);i._chartWidgetCollection.metaInfo.id.value()||i._chartWidgetCollection.metaInfo.id.setValue(l.id),t.closeForm&&t.closeForm(),t.onPublishUrl&&t.onPublishUrl(l.publishUrl,l.uuid),h.emit("onPublishUrl",l.uuid),i._lastPublishUrl=l.publishUrl,i.setPopupUrl&&i.setPopupUrl(l.publishUrl)}else{(413===n.status||/^[\d\s]*request.+large/i.test(r.trim()))&&(r=s("This Chart Layout has a lot of objects and can't be published. Please remove the unused objects (drawings/indicators) through the Object Tree to continue publishing."));var c=r||s("Error occurred while publishing");t.showError&&t.showError(c,{html:!0}),t.onPublishError&&t.onPublishError(c),i.setPopupUrl&&i.setPopupUrl(void 0)}};var u=e.scriptPublication,d=!(!u||!u.updateScriptIdPart),_=new Promise((function(e,t){var i;u?(d?(window.addEventListener("beforeunload",S),i=a.publishNext(u.scriptSource,u.updateScriptIdPart)):i=a.publishNew(u.scriptSource,u.scriptProtection),i.done((function(t){e(t.publishedstudyscript_id)})).fail((function(e){let i="";i=-1!==e.indexOf("already published library")?y.saveLibraryError:y.saveScriptError,m({title:i,text:e}),t()}))):e()}));d?_.then((function(t){var i={publishedstudyscript_id:t,script_terms:e.script_terms,description:e.description,tags:e.tags,preserve_old_chart:e.preserveOldChart};r.ajax({url:"/script-update/",type:"post",dataType:"text",data:r.extend({},o,i),complete:f})}),f):_.then((function(t){t&&(e.publishedstudyscript_id=t);for(var i=e.tags.split(","),n=e.scriptPublication?"Script":"Idea",s=0;s<i.length;s++)l(n+" Publication",n+" Tag",i[s]);if(e.scriptPublication){var a=e.scriptPublication.scriptProtection;l("Script Publication","Script Visibility",{open_no_auth:"Open",closed_no_auth:"Protected",closed_needs_auth:"Invite Only"}[a])}else{var c=e.is_education?"Education":"Analysis",u=e.is_public?"Public":"Private";l("Idea Publication","Idea Type",c),l("Idea Publication","Idea Strategy",["Neutral","Long","Short"][e.direction]),l("Idea Publication","Idea Privacy",u)}r.ajax({
url:"/publishchart/",type:"post",dataType:"text",data:r.extend({},o,e),complete:f})}),f),i.publishInProgress=!0,t.onWidget||""!==e.name&&""!==e.description&&e.description.length<=7e4&&e.name.length<=64&&g(new Promise((function(e){i.setPopupUrl=e})))}}_saveChartImpl(e,t,i,n,s,o){var a=i,l=n;if(this._savingToken=String(Math.random()),e.savingToken=this._savingToken,a=function(o){if(this._savingToken=null,"ok:"===o.substring(0,3)){var a=o.substring(3),l=JSON.parse(a);t.id.value()||(t.id.setValue(l.id),t.uid.setValue(l.uid)),t.lastModified.setValue(l.lastModified),"function"==typeof i&&i(t,e)}else if("saved_chart_limit_reached"===o||""===o){if("function"==typeof n&&n(),s.noDefaultOnFail)return;c({feature:"savedChartsLimit"})}else"function"==typeof n&&n(),r("#error").html(o);r(window).off("beforeunload.savechart")},l=function(e){return this._savingToken=null,e&&413===e.status?(this._chartSizeLimitExceededDelegate.fire(),void("function"==typeof n&&n.apply(null,arguments))):e&&403===e.status?(u({feature:"savedChartsLimit"}),void("function"==typeof n&&n.apply(null,arguments))):void(s.retry?"function"==typeof n&&n.apply(null,arguments):(s.retry=!0,this._saveChart(o,i,n,s)))},!e.name)return console.warn("Saving chart with empty name is not allowed"),void n();v.saveChart(e.name,e.short_name,e.resolution,e,t).then(a.bind(this)).catch(l.bind(this))}_saveChart(e,t,i,n){var r=this._chartWidgetCollection.metaInfo,s=function(s){return f(this._prevChartState,s)[0]&&null!=r.id.value()?(this._chartSavedDelegate.fire(!0),void(t&&t(r,s))):this._saveChartImpl(s,r,t,i,n,e)}.bind(this);this._saveLineToolsToStorage().then((function(){var t=e(!0);return s(t)})).catch((function(t){var i=e(!1);return s(i)}))}saveChartSilently(e,t,i){i=i||{};var n=function(e){var t=e&&_("remove_line_tools_from_content"),n=this._getChartWidgetCollectionState(!1,void 0,void 0,void 0,t),r=this._getCommonSavingInfo(!1,t);return w(r,n),i.chartName&&(r.name=i.chartName),r.name&&0!==r.name.length||!i.defaultChartName||(r.name=i.defaultChartName),i.autoSave&&(r.autoSave=!0),r}.bind(this);r(window).on("beforeunload.savechart",(function(){return s("Your chart is being saved, please wait a moment before you leave this page.")})),this._isSaveInProcess=!0,this._chartAboutToBeSavedDelegate.fire(),this._saveChart(n,function(t,i){o(!this._chartWidgetCollection.readOnly(),"Trying to save layout in read-only mode"),this._chartWidgetCollection.metaInfo.name.setValue(i.name),this._prevChartState=i,this._chartSavedDelegate.fire(!0),this._isSaveInProcess=!1,e&&e({uid:t.uid.value(),data:i}),delete this._prevChartState.savingToken}.bind(this),function(){this._chartSavedDelegate.fire(!1),this._isSaveInProcess=!1,t&&t.apply(null,arguments)}.bind(this),i),r(window).off("beforeunload.savechart")}isSaveInProcess(){return this._isSaveInProcess}}},503595:(e,t,i)=>{"use strict";i.d(t,{asyncWindowOpen:()=>s});var n=i(314802);const r=i(787236).t("Loading...");function s(e,t,i){return window.TVD||(0,n.isOnMobileAppPage)("any")?function(e,t,i){return e.then(e=>{void 0!==e&&open(e,t,i)},()=>{})
}(e,t,i):async function(e,t,i){const n=URL.createObjectURL(new Blob([`<!doctype html><html style="background-color:${getComputedStyle(document.documentElement).backgroundColor}"><head><meta charset="utf-8"><title>${r}</title></head><body style="background-color:${getComputedStyle(document.body).backgroundColor}"></body></html>`],{type:"text/html"}));try{const r=open(n,t,i);if(!r)throw new Error("cound not open a new tab");const s=await e.catch(()=>{});void 0!==s?r.location.replace(s):r.close()}finally{URL.revokeObjectURL(n)}}(e,t,i)}},510013:(e,t,i)=>{"use strict";i.d(t,{ChunkLoader:()=>n});class n{constructor(){this._retries=5,this._cache=null,this._tryLoad=e=>{this._retries=this._retries-1;this._startLoading().then(e,0!==this._retries?()=>setTimeout(()=>this._tryLoad(e),3e3):void 0)}}load(){return this._cache||(this._cache=new Promise(this._tryLoad)),this._cache}}},752604:(e,t,i)=>{"use strict";i.d(t,{isCountryCode:()=>a,toCountryCode:()=>l,getIsoCountryCodeFromLocale:()=>c});var n=i(911905),r=i(804510);const s=(0,n.getLogger)("Lib.CountryCode"),o=/^[A-Z]{2}$/;function a(e){return o.test(e)}function l(e){if(a(e))return e;throw new Error("Invalid country code")}function c(e){var t,i;try{return l(null===(i=null===(t=r[e])||void 0===t?void 0:t.geoip_code)||void 0===i?void 0:i.toUpperCase())}catch(t){return s.logError(`Get ISO country code from locale "${e}" failed: ${t.message}`),l(r.en.geoip_code.toUpperCase())}}},975774:(e,t,i)=>{"use strict";i.d(t,{loadThemeOnChartInitialization:()=>s});var n=i(440135),r=i(919346);function s(e,t){if(e.theme){const i=(0,r.getThemeNameIfStdTheme)((0,n.extractThemeFromModel)(t.activeChartWidget.value().model())),s=null!==i&&i!==e.theme;e.content&&!s||(0,n.loadTheme)(e.theme,!0,!1,t,!0,!0)}}},530254:(e,t,i)=>{"use strict";i.d(t,{format:()=>u,getMetricPrefix:()=>d,getFractionalDigitsNumber:()=>_});var n=i(588537),r=i(960521),s=i(701336),o=i(591419),a=i(143498);const l=new Map;let c=null;function u(e,t,i,n=2){if(Math.abs(e)>=1e100)return"â€”";if("volume"===t)return function(e){c||(c=new o.VolumeFormatter);return c.format(e)}(e);if("percents"===t)return(0,a.forceLTRStrSsr)(h(e,n)+"%");const r=i||d(e);return(0,a.forceLTRStrSsr)(function(e,t,i){return`${h(e/t.multiplier,i)}${t.symbol}`}(e,r,n))}function d(e){const t=Math.abs(e);return t<995?{symbol:"",multiplier:1}:t<999995?{symbol:"K",multiplier:1e3}:t<999999995?{symbol:"M",multiplier:1e6}:t<999999999995?{symbol:"B",multiplier:1e9}:{symbol:"T",multiplier:1e12}}function h(e,t){let i="";return e<0&&(i="âˆ’",e=-e),i+function(e){if(l.has(e))return(0,n.ensureDefined)(l.get(e));const t=new s.NumericFormatter(e);return l.set(e,t),t}(t).format(e)}function _(e){const t=(0,r.Big)(e);return Math.max(t.c.length-t.e-1,0)}},436901:(e,t,i)=>{"use strict";i.d(t,{DEFAULT_MAX_DATA_ARRAY_LENGTH:()=>n,FULL_MAX_DATA_ARRAY_LENGTH:()=>r});const n=5,r=7},707744:(e,t,i)=>{"use strict";i.d(t,{getFinancialsViewItems:()=>h,prepareElementsForContent:()=>o,tabsToFlatList:()=>a});var n=i(787236),r=i(366156),s=i(583837);function o(e,t){const i=[];t&&i.push({type:"Padding"})
;const n=e.map(e=>({type:"Item",item:e}));return i.push(...n),i}function a(e){const t=[];return e.forEach(e=>{t.push({type:"Title",title:e.title});const i=o(e.content);t.push(...i)}),t}function l(e){const t=(0,s.filterIndicatorItems)(e);return t.filter(e=>e.periodData.length>0)}function c(e,t=!1){const{id:i,name:r,shortTitle:s,idWithoutPeriod:o,periodData:a}=e;return{id:i,shortTitle:s,periodData:a,name:(0,n.t)(r,{context:"study"}),solutionId:d(o),isNested:t}}
const u=JSON.parse('{"ebitda":43000553610,"gross_profit":43000553611,"total_revenue":43000553619,"cost_of_goods":43000553618,"dep_amort_exp_income_s":43000563477,"cost_of_goods_excl_dep_amort":43000563478,"operating_expenses":43000563463,"sell_gen_admin_exp_total":43000553613,"sell_gen_admin_exp_other":43000553614,"research_and_dev":43000553612,"other_oper_expense_total":43000563483,"total_oper_expense":43000553615,"earnings_per_share_diluted":43000553616,"net_income":43000553617,"oper_income":43000563464,"total_non_oper_income":43000563465,"non_oper_interest_exp":43000563466,"interest_expense_on_debt":43000563467,"interest_capitalized":43000563468,"non_oper_income":43000563471,"non_oper_interest_income":43000563473,"pretax_equity_in_earnings":43000563474,"other_income":43000563479,"unusual_expense_inc":43000563476,"pretax_income":43000563462,"equity_in_earnings":43000563487,"income_tax":43000563492,"minority_interest_exp":43000563495,"after_tax_other_income":43000563497,"net_income_bef_disc_oper":43000563500,"discontinued_operations":43000563502,"dilution_adjustment":43000563504,"preferred_dividends":43000563506,"diluted_net_income":43000563516,"earnings_per_share_basic":43000563520,"total_liabilities_shrhldrs_equity":43000553626,"total_debt":43000553622,"total_assets":43000553623,"total_current_assets":43000557441,"cash_n_short_term_invest":43000563702,"cash_n_equivalents":43000563709,"short_term_invest":43000563716,"total_receivables_net":43000563738,"accounts_receivables_net":43000563740,"other_receivables":43000563741,"inventory_work_in_progress":43000563746,"inventory_progress_payments":43000563748,"inventory_finished_goods":43000563749,"inventory_raw_materials":43000563753,"prepaid_expenses":43000563757,"other_current_assets_total":43000563761,"total_non_current_assets":43000557440,"long_term_investments":43000563639,"long_term_note_receivable":43000563641,"investments_in_unconcsolidate":43000563645,"other_investments":43000563649,"ppe_total_net":43000563657,"ppe_total_gross":43000563667,"accum_deprec_total":43000563673,"deferred_tax_assests":43000563683,"intangibles_net":43000563686,"goodwill":43000563688,"other_intangibles_net":43000563689,"long_term_other_assets_total":43000563693,"total_liabilities":43000553624,"total_current_liabilities":43000557437,"short_term_debt":43000563554,"current_port_debt_capital_leases":43000563557,"short_term_debt_excl_current_port":43000563563,"notes_payable_short_term_debt":43000563600,"other_short_term_debt":43000563614,"accounts_payable":43000563619,"income_tax_payable":43000563621,"dividends_payable":43000563624,"accrued_payroll":43000563628,"deferred_income_current":43000563631,"other_current_liabilities":43000563635,"total_non_current_liabilities":43000557436,"long_term_debt":43000553621,"long_term_debt_excl_capital_lease":43000563521,"capital_operating_lease_obligations":43000563522,"capital_lease_obligations":43000563527,"operating_lease_liabilities":43000563532,"provision_f_risks":43000563535,"deferred_tax_liabilities":43000563536,"deferred_income_non_current":43000563540,"other_liabilities_total":43000563545,"total_equity":43000553625,"shrhldrs_equity":43000557442,"common_equity_total":43000563866,"retained_earnings":43000563867,"paid_in_capital":43000563871,"common_stock_par":43000563873,"additional_paid_in_capital":43000563874,"treasury_stock_common":43000563875,"other_common_equity":43000563877,"preferred_stock_carrying_value":43000563879,"minority_interest":43000563884,"free_cash_flow":43000553630,"cash_f_operating_activities":43000553627,"funds_f_operations":43000563886,"net_income_starting_line":43000563888,"cash_flow_deprecation_n_amortization":43000563892,"depreciation_depletion":43000564142,"amortization":43000564143,"cash_flow_deferred_taxes":43000564144,"non_cash_items":43000564146,"total_extra_items":43000564145,"changes_in_working_capital":43000564147,"change_in_accounts_receivable":43000564148,"change_in_taxes_payable":43000564149,"change_in_accounts_payable":43000564150,"change_in_accrued_expenses":43000564151,"change_in_inventories":43000564153,"change_in_other_assets":43000564154,"cash_f_investing_activities":43000553628,"purchase_sale_business":43000564156,"sales_of_business":43000564158,"purchase_of_business":43000564159,"purchase_sale_investments":43000564160,"sales_of_investments":43000564161,"purchase_of_investments":43000564162,"other_investing_cash_flow_items_total":43000564163,"other_investing_cash_flow_sources":43000564164,"other_investing_cash_flow_uses":43000564165,"capital_expenditures":43000564166,"capital_expenditures_fixed_assets":43000564167,"capital_expenditures_other_assets":43000564168,"cash_f_financing_activities":43000553629,"issuance_of_stock_net":43000564169,"sale_of_stock":43000564170,"purchase_of_stock":43000564171,"issuance_of_debt_net":43000564172,"issuance_of_short_term_debt":43000564173,"issuance_of_long_term_debt":43000564175,"supplying_of_long_term_debt":43000564176,"reduction_of_long_term_debt":43000564177,"issuance_of_other_debt":43000564178,"other_financing_cash_flow_items_total":43000564179,"other_financing_cash_flow_sources":43000564181,"other_financing_cash_flow_uses":43000564182,"total_cash_dividends_paid":43000564183,"common_dividends_cash_flow":43000564185,"preferred_dividends_cash_flow":43000564186,"market_cap_basic":43000597015,"number_of_employees":43000597080,"dividends_yield":43000597817,"dividend_payout_ratio":43000597738,"price_earnings":43000597017,"price_sales":43000597019,"price_cash_flow":43000597816,"price_book":43000597016,"enterprise_value":43000597077,"enterprise_value_ebitda":43000597064,"ev_ebit":43000597063,"ev_revenue":43000597065,"price_to_free_cash_flow":43000597814,"price_to_tangible_book":43000597815,"price_earnings_forward":43000597831,"price_sales_forward":43000597832,"return_on_assets":43000597054,"return_on_equity":43000597021,"return_on_invested_capital":43000597056,"gross_margin":43000597811,"operating_margin":43000597076,"ebitda_margin":43000597075,"net_margin":43000597074,"return_on_equity_adjust_to_book":43000597055,"return_on_tang_assets":43000597052,"return_on_tang_equity":43000597053,"free_cash_flow_margin":43000597813,"quick_ratio":43000597050,"current_ratio":43000597051,"invent_turnover":43000597046,"asset_turnover":43000597022,"debt_to_asset":43000597031,"debt_to_equity":43000597078,"long_term_debt_to_assets":43000597048,"debt_to_ebitda":43000597032,"debt_to_revenue":43000597033,"effective_interest_rate_on_debt":43000597034,"equity_to_asset":43000597035,"goodwill_to_asset":43000597036,"interst_cover":43000597037,"invent_to_revenue":43000597047,"share_buyback_ratio":43000597057,"sloan_ratio":43000597058,"earnings_estimate":43000597066,"sales_estimates":43000597067,"revenue_one_year_growth":43000597068,"earnings_per_share_basic_one_year_growth":43000597069,"earnings_per_share_diluted_one_year_growth":43000597071,"accruals_ratio":43000597073,"tangible_common_equity_ratio":43000597079,"revenue_per_employee":43000597081,"net_income_per_employee":43000597082,"graham_numbers":43000597084,"ncavps_ratio":43000597085,"quality_ratio":43000597086,"gross_profit_to_asset":43000597087,"buyback_yield":43000597088,"cash_conversion_cycle":43000597089,"peg_ratio":43000597090,"altman_z_score":43000597092,"piotroski_f_score":43000597734,"sustainable_growth_rate":43000597736,"research_and_develop_to_revenue":43000597739,"earnings_yield":43000597010,"tobin_q_ratio":43000597834,"beneish_m_score":43000597835,"kz_index":43000597844,"fulmer_h_factor":43000597847,"springate_score":43000597848,"zmijewski_score":43000597850,"cash_to_debt":43000597023,"cogs_to_revenue":43000597026,"days_invent":43000597028,"days_pay":43000597029,"day_sales_out":43000597030}')
;function d(e){return u[e]}async function h(){const[e,t]=await Promise.all([(0,r.requestFundamentalScripts)(),(0,s.getFinancialsData)()]),i=(0,s.filterHiddenItems)(t),n=(0,s.mergePineFacadeData)(i,e),o=(0,s.buildTree)(n);return function(e){const t={};return Object.keys(e).forEach(i=>{const n=[];e[i].forEach(e=>{const t=l([e])[0];if(t)if(t.children){const e=l(t.children).map(e=>c(e,!0));n.push(c(t),...e)}else n.push(c(t))}),t[i]=n}),t}((0,s.createCategoryList)(o))}},583837:(e,t,i)=>{"use strict";i.d(t,{isCategoryId:()=>l,DEFAULT_CATEGORY_SETTINGS:()=>c,getFinancialsData:()=>d,filterConfig:()=>h,filterHiddenItems:()=>_,filterIndicatorItems:()=>g,buildTree:()=>p,createCategoryList:()=>v,flattenTree:()=>b,createSortedCategoryList:()=>w,getItemValuesFromQuotes:()=>S,getPercentChange:()=>C,getAdditionalFieldPostfix:()=>P,getIdWithoutPeriod:()=>T,addOrRemoveIdFromSet:()=>E,findParentsSet:()=>I,mergePineFacadeData:()=>L,getAdditionalFieldValue:()=>A,valueFormatter:()=>D,getIndicatorPagePath:()=>k});var n=i(588537),r=i(787236),s=i(86674),o=i(436901),a=i(530254);function l(e){return"balance sheet"===e||"income statements"===e||"cash flow"===e||"statistics"===e}const c={"income statements":{defaultItems:["total_revenue","net_income"],additionalField:1,displayGroups:!1},"balance sheet":{defaultItems:["total_assets","total_liabilities"],additionalField:0,displayGroups:!1},"cash flow":{defaultItems:["cash_f_operating_activities","cash_f_investing_activities","cash_f_financing_activities"],additionalField:1,displayGroups:!1},statistics:{defaultItems:["price_earnings","price_cash_flow"],additionalField:2,displayGroups:!0}},u=["_fy","_fq","_ttm"];function d(){return(0,s.fetch)("/financial/fundamentals_config/",{credentials:"same-origin",headers:{"Content-Type":"application/json"},method:"GET"}).then(e=>e.json())}function h(e){return e.filter(e=>!e.hidden&&e.financialVisible)}function _(e){return e.filter(e=>!e.hidden)}function g(e){return e.filter(e=>void 0===e.indicatorVisible||e.indicatorVisible)}function p(e){return f(m(e))}function m(e){var t,i;const r=Symbol(),s={},o={},a=[];for(const i of e){const{id:e,parent:l=r}=i;l===r&&a.push(e);const c=s[e]={...i,nestingLevel:-1,idWithoutPeriod:(0,n.ensureDefined)(T(i.id)),parentIdWithoutPeriod:T(i.parent),periodData:i.periodData||[],shortTitle:i.shortTitle||""};(o[l]=null!==(t=o[l])&&void 0!==t?t:[]).push(c)}for(const t of e){const{id:e}=t;s[e].children=o[e]}let l=0;for(;a.length>0&&l<e.length;){l++;const e=s[(0,n.ensureDefined)(a.shift())],{parent:t}=e;e.nestingLevel=t?s[t].nestingLevel+1:0,null===(i=e.children)||void 0===i||i.forEach(e=>{a.push(e.id)})}return o[r]}function f(e){const t=[...e];return t.sort((e,t)=>e.ordinal-t.ordinal),t.forEach(e=>{e.children&&(e.children=f(e.children))}),t}function v(e){return y([...e].map(e=>{var t;if(null===(t=e.children)||void 0===t?void 0:t.length){const t=b(e.children);return{...e,children:t}}return e}))}function b(e,t){let i=[];return e.forEach(e=>{var n;i=[...i,e];const r=!!t&&t(e);if((null===(n=e.children)||void 0===n?void 0:n.length)&&!r){
const n=b(e.children,t);i=[...i,...n]}}),i}function y(e){const t=[...e],i={};return t.forEach(e=>{const t=e.category.toLowerCase();i[t]?i[t].push(e):i[t]=[e]}),i}function w(e){if(!e.length)return{};const t=y(m(e)),i={};return Object.entries(t).forEach(([e,t])=>{i[e]=function(e){const t=f(e),i=new Map;return t.forEach(e=>{const{group:t,ordinal:n}=e,r=i.get(t);(void 0===r||r>n)&&i.set(t,n)}),t.sort((e,t)=>(0,n.ensureDefined)(i.get(e.group))-(0,n.ensureDefined)(i.get(t.group))||e.ordinal-t.ordinal),t}(t)}),i}function S(e,t,i=0,n,r=o.DEFAULT_MAX_DATA_ARRAY_LENGTH){let s=new Array(r).fill(null);const a=[];if(t){const o=t[e+"_h"];if(o){const e=o.length>r;if(s=o.slice(0,r).reverse(),n){const t=o.slice(0,r+1).reverse();t.forEach((i,n)=>{if(0===n&&e)return;if(0===n)return void a.push(NaN);const r=C(Number(t[n-1]),Number(i));a.push(r)})}}if(0!==i){const r=t[T(e)+P(i)]||null,o=e.endsWith("_fq"),l=1===i;return{values:s,changes:n?a:void 0,additional:r,additionalChange:!n||l&&o?void 0:C(Number(s[s.length-1]),Number(r))}}}return{values:s,changes:n?a:void 0}}function C(e,t){if(0===e)return NaN;return Number(((t-e)/Math.abs(e)*100).toFixed(2))}function P(e){switch(e){case 2:return"_current";case 1:return"_ttm"}return""}function T(e){if(e)for(let t=0;t<u.length;t++){const i=u[t];if(e.endsWith(i))return e.slice(0,-i.length)}return e}function E(e,t){const i=new Set(t);return i.has(e)?i.delete(e):i.add(e),i}function I(e,t){let i=new Set;const n=Symbol();for(let r=0;r<e.length;r++){const{idWithoutPeriod:s,parentIdWithoutPeriod:o=n,children:a}=e[r];if(null==a?void 0:a.length){const e=I(a,t);i=new Set([...Array.from(i),...Array.from(e)])}(t.has(s)||i.size>0)&&o!==n&&i.add(o)}return i}function L(e,t){const i={};e.forEach(e=>{const t=T(e.id);t&&!i[t]&&(i[t]={...e,nestingLevel:-1,idWithoutPeriod:t,parentIdWithoutPeriod:T(e.parent),periodData:[],shortTitle:""})}),t.forEach(e=>{if(!e.extra.fund_id)return;const t=T(e.extra.fund_id),r=i[(0,n.ensureDefined)(t)];if(!r)return;const s={period:e.extra.financialPeriod,scriptIdPart:e.scriptIdPart,scriptName:e.scriptName,version:e.version};r.shortTitle=e.extra.shortDescription,r.periodData.push(s)});const r=Object.values(i),s=(e,t)=>e.period&&t.period?e.period.localeCompare(t.period):0;return r.forEach(e=>{e.periodData.length>1&&e.periodData.sort(s)}),r}function A(e){if(0!==e)return 1===e?(0,r.t)("TTM"):(0,r.t)("Current")}function D(e){return null===e?"â€”":(0,a.format)(e,"numbers")}function k(e){return e.replace(/_/g,"-")+"/"}},647013:(e,t,i)=>{"use strict";i.d(t,{IndicatorsPreloader:()=>a});var n=i(366156),r=i(604061),s=i(782991),o=i(707744);class a{constructor(e){this._chartWidgetCollection=e}getIndicatorPromises(){var e,t,i,a,l,c,u,d,h;const _=(null===(e=this._initIndicatorsPromises)||void 0===e?void 0:e.javaStudiesPromise)||(0,r.requestBuiltInJavaStudies)(this._chartWidgetCollection),g=(null===(t=this._initIndicatorsPromises)||void 0===t?void 0:t.standardScriptsPromise)||(0,n.requestBuiltinScripts)(),p=(null===(i=this._initIndicatorsPromises)||void 0===i?void 0:i.candlestickScriptsPromise)||(0,
n.requestCandlestickScripts)(),m=(null===(a=this._initIndicatorsPromises)||void 0===a?void 0:a.publicPineStudiesPromise)||(0,r.fetchPublicPineStudies)((0,r.createPublicStudiesRequestParams)("top")),f=(null===(l=this._initIndicatorsPromises)||void 0===l?void 0:l.trendingStudiesPromise)||(0,r.fetchPublicPineStudies)((0,r.createPublicStudiesRequestParams)("trending")),v=(null===(c=this._initIndicatorsPromises)||void 0===c?void 0:c.editorsPicksStudiesPromise)||(0,r.fetchEditorsPicksStudies)(),b=null===(u=this._initIndicatorsPromises)||void 0===u?void 0:u.addonsPromise,y=(null===(d=this._initIndicatorsPromises)||void 0===d?void 0:d.pinePermissionsPromise)||s.PinePerm.listScripts(),w=(null===(h=this._initIndicatorsPromises)||void 0===h?void 0:h.financialsPromise)||(0,o.getFinancialsViewItems)(),S=(0,n.requestUserScripts)();return this._initIndicatorsPromises={javaStudiesPromise:_,userScriptsPromise:S,standardScriptsPromise:g,candlestickScriptsPromise:p,publicPineStudiesPromise:m,trendingStudiesPromise:f,addonsPromise:b,pinePermissionsPromise:y,editorsPicksStudiesPromise:v,financialsPromise:w},this._initIndicatorsPromises}}},604061:(e,t,i)=>{"use strict";i.d(t,{fetchPublicPineStudies:()=>r,fetchEditorsPicksStudies:()=>s,fetchLoadMorePublicStudies:()=>o,createPublicStudiesRequestParams:()=>a,requestBuiltInJavaStudies:()=>l});var n=i(86674);async function r(e){return(await(0,n.fetch)("/pubscripts-library/?"+e)).json()}async function s(){return(await(0,n.fetch)("/pubscripts-library/editors-picks/")).json()}async function o(e){return(await(0,n.fetch)(e)).json()}function a(e){const t={offset:0,count:20,type:0,sort:e};return new URLSearchParams(Object.entries(t)).toString()}function l(e){return e.activeChartWidget.value().metaInfoRepository().findAllJavaStudies()}},440498:(e,t,i)=>{"use strict";i.d(t,{DELETED_SYMBOLS_LIST_ID:()=>s,isDeletedSymbolsList:()=>a,DeletedSymbolsList:()=>l});var n=i(49437),r=i(738600);const s="deleted_symbols_list_id",o="There was an error during attempt to set local storage value",a=e=>e===s;class l{constructor(){this._logError=(e,t)=>{e instanceof Error?r.logger.logError(e.message):r.logger.logError(t)}}createList(e){this._setList(e)}removeList(){try{n.TVLocalStorage.removeItem("deleted_symbols_list")}catch(e){this._logError(e,"There was an error during local storage item removal")}}addSymbols(e){const t=this.getList();if(!t)return;const i=new Set(t.symbols);for(const t of e)i.add(t);const n=Array.from(i);n.length>100?t.symbols=n.reverse().slice(0,100).reverse():t.symbols=n,this._setList(t)}removeSymbols(e){const t=this.getList();if(!t)return;const i=new Set(t.symbols);for(const t of e)i.delete(t);t.symbols=Array.from(i),this._setList(t)}replaceSymbols(e){const t=this.getList();t&&(t.symbols=e,this._setList(t))}getIsActive(){try{return"true"===n.TVLocalStorage.getItem("is_deleted_symbols_list_active")}catch(e){return this._logError(e,o),!1}}setIsActive(e){try{n.TVLocalStorage.setItem("is_deleted_symbols_list_active",String(e))}catch(e){this._logError(e,o)}}getList(){try{
const e=n.TVLocalStorage.getItem("deleted_symbols_list");return e?JSON.parse(e):null}catch(e){return this._logError(e,"There was an error during attempt to get local storage value"),null}}_setList(e){try{n.TVLocalStorage.setItem("deleted_symbols_list",JSON.stringify(e))}catch(e){this._logError(e,o)}}}},738600:(e,t,i)=>{"use strict";i.d(t,{logger:()=>n});const n=(0,i(911905).getLogger)("Platform.Model.Watchlist")},804510:e=>{"use strict"
;e.exports=JSON.parse('{"ar_AE":{"language":"ar","language_name":"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©","flag":"ae","geoip_code":"ae","countries_with_this_language":["ae","bh","dj","dz","eg","er","iq","jo","km","kw","lb","ly","ma","mr","om","qa","sa","sd","so","sy","td","tn","ye"],"priority":500,"is_site_locale":true,"dir":"rtl","iso":"ar","iso_639_3":"arb","show_on_widgets":true,"name_on_widgets":"Ø§Ù„Ø¹ÙŽØ±ÙŽØ¨ÙÙŠÙŽÙ‘Ø©â€Žâ€Ž","global_name":"Arabic"},"br":{"language":"pt","language_name":"PortuguÃªs","flag":"br","geoip_code":"br","priority":650,"is_site_locale":true,"iso":"pt","iso_639_3":"por","show_on_widgets":true,"name_on_widgets":"PortuguÃªs","global_name":"Portuguese"},"cs":{"language":"cs","language_name":"Czech","flag":"cz","geoip_code":"cz","priority":718,"is_site_locale":true,"iso":"cs","iso_639_3":"ces","show_on_widgets":true,"name_on_widgets":"ÄŒesky","global_name":"Czech","is_in_european_union":true,"isBattle":true},"de_DE":{"language":"de","language_name":"Deutsch","flag":"de","geoip_code":"de","countries_with_this_language":["at","ch"],"priority":756,"is_site_locale":true,"iso":"de","iso_639_3":"de","show_on_widgets":true,"name_on_widgets":"Deutsch","global_name":"German","is_in_european_union":true},"en":{"language":"en","language_name":"English","flag":"us","geoip_code":"us","priority":1000,"is_site_locale":true,"iso":"en","iso_639_3":"eng","show_on_widgets":true,"name_on_widgets":"English","global_name":"English","is_only_recommended_tw_autorepost":true},"es":{"language":"es","language_name":"EspaÃ±ol","flag":"es","geoip_code":"es","countries_with_this_language":["mx","ar","ve","cl","co","pe","uy","py","cr","gt","c","bo","pa","pr"],"priority":744,"is_site_locale":true,"iso":"es","iso_639_3":"spa","show_on_widgets":true,"name_on_widgets":"EspaÃ±ol","global_name":"Spanish","is_in_european_union":true},"fa_IR":{"language":"fa","language_name":"ÙØ§Ø±Ø³Ù‰","flag":"ir","geoip_code":"ir","priority":480,"is_site_locale":true,"dir":"rtl","iso":"fa","iso_639_3":"fas","show_on_widgets":true,"name_on_widgets":"ÙØ§Ø±Ø³ÛŒ","global_name":"Iranian"},"fr":{"language":"fr","language_name":"FranÃ§ais","flag":"fr","geoip_code":"fr","priority":750,"is_site_locale":true,"iso":"fr","iso_639_3":"fra","show_on_widgets":true,"name_on_widgets":"French","global_name":"French","is_in_european_union":true},"he_IL":{"language":"he_IL","language_name":"×¢×‘×¨×™×ª","flag":"il","geoip_code":"il","priority":490,"is_site_locale":true,"dir":"rtl","iso":"he","iso_639_3":"heb","show_on_widgets":true,"name_on_widgets":"â€×¢×‘×¨×™×ªâ€","global_name":"Israeli"},"hu_HU":{"language":"hu_HU","language_name":"Magyar","flag":"hu","geoip_code":"hu","priority":724,"is_site_locale":true,"iso":"hu","iso_639_3":"hun","show_on_widgets":true,"name_on_widgets":"Magyar","global_name":"Hungarian","is_in_european_union":true},"id":{"language":"id_ID","language_name":"Bahasa Indonesia","flag":"id","geoip_code":"id","priority":648,"is_site_locale":true,"iso":"id","iso_639_3":"ind","show_on_widgets":true,"name_on_widgets":"Indonesia","global_name":"Indonesian"},"in":{"language":"en","language_name":"English (India)","flag":"in","geoip_code":"in","priority":800,"is_site_locale":true,"iso":"en","iso_639_3":"eng","show_on_widgets":true,"name_on_widgets":"India","global_name":"Indian"},"it":{"language":"it","language_name":"Italiano","flag":"it","geoip_code":"it","priority":737,"is_site_locale":true,"iso":"it","iso_639_3":"ita","show_on_widgets":true,"name_on_widgets":"Italiano","global_name":"Italian","is_in_european_union":true},"ja":{"language":"ja","language_name":"æ—¥æœ¬èªž","flag":"jp","geoip_code":"jp","priority":600,"is_site_locale":true,"iso":"ja","iso_639_3":"jpn","show_on_widgets":true,"name_on_widgets":"æ—¥æœ¬èªž","global_name":"Japanese"},"kr":{"language":"ko","language_name":"í•œêµ­ì–´","flag":"kr","geoip_code":"kr","priority":550,"is_site_locale":true,"iso":"ko","iso_639_3":"kor","show_on_widgets":true,"name_on_widgets":"í•œêµ­ì–´","global_name":"Korean"},"ms_MY":{"language":"ms_MY","language_name":"Bahasa Melayu","flag":"my","geoip_code":"my","priority":647,"is_site_locale":true,"iso":"ms","iso_639_3":"zlm","show_on_widgets":true,"name_on_widgets":"Malay [Malaysia]","global_name":"Malaysian"},"pl":{"language":"pl","language_name":"Polski","flag":"pl","geoip_code":"pl","priority":725,"is_site_locale":true,"iso":"pl","iso_639_3":"pol","show_on_widgets":true,"name_on_widgets":"Polski","global_name":"Polish","is_in_european_union":true},"ru":{"language":"ru","language_name":"Ð ÑƒÑÑÐºÐ¸Ð¹","flag":"ru","geoip_code":"ru","countries_with_this_language":["am","by","kg","kz","md","tj","tm","uz"],"priority":700,"is_site_locale":true,"iso":"ru","iso_639_3":"rus","show_on_widgets":true,"name_on_widgets":"Ð ÑƒÑÑÐºÐ¸Ð¹","global_name":"Russian","is_only_recommended_tw_autorepost":true},"sv_SE":{"language":"sv","language_name":"Svenska","flag":"se","geoip_code":"se","priority":723,"is_site_locale":true,"iso":"sv","iso_639_3":"swe","show_on_widgets":true,"name_on_widgets":"Swedish","global_name":"Swedish","is_in_european_union":true},"th_TH":{"language":"th","language_name":"à¸ à¸²à¸©à¸²à¹„à¸—à¸¢","flag":"th","geoip_code":"th","priority":646,"is_site_locale":true,"iso":"th","iso_639_3":"tha","show_on_widgets":true,"name_on_widgets":"à¸ à¸²à¸©à¸²à¹„à¸—à¸¢","global_name":"Thai"},"tr":{"language":"tr","language_name":"TÃ¼rkÃ§e","flag":"tr","geoip_code":"tr","priority":713,"is_site_locale":true,"iso":"tr","iso_639_3":"tur","show_on_widgets":true,"name_on_widgets":"TÃ¼rkÃ§e","global_name":"Turkish","is_only_recommended_tw_autorepost":true},"vi_VN":{"language":"vi","language_name":"Tiáº¿ng Viá»‡t","flag":"vn","geoip_code":"vn","priority":645,"is_site_locale":true,"iso":"vi","iso_639_3":"vie","show_on_widgets":true,"name_on_widgets":"Tiáº¿ng Viá»‡t","global_name":"Vietnamese"},"zh_CN":{"language":"zh","language_name":"ç®€ä½“ä¸­æ–‡","flag":"cn","geoip_code":"cn","countries_with_this_language":["zh"],"priority":537,"is_site_locale":true,"iso":"zh-Hans","iso_639_3":"cmn","show_on_widgets":true,"name_on_widgets":"ç®€ä½“ä¸­æ–‡","global_name":"Chinese"},"zh_TW":{"language":"zh_TW","language_name":"ç¹é«”ä¸­æ–‡","flag":"tw","geoip_code":"tw","countries_with_this_language":["hk"],"priority":536,"is_site_locale":true,"iso":"zh-Hant","iso_639_3":"cmn","show_on_widgets":true,"name_on_widgets":"ç¹é«”ä¸­æ–‡","global_name":"Taiwanese"},"el":{"language":"el","language_name":"Greek","flag":"gr","geoip_code":"gr","priority":625,"is_site_locale":true,"iso":"el","iso_639_3":"ell","global_name":"Greek","is_in_european_union":true,"isBattle":true},"nl_NL":{"language":"nl_NL","language_name":"Dutch","flag":"nl","geoip_code":"nl","priority":731,"is_site_locale":true,"iso":"nl","iso_639_3":"nld","global_name":"Dutch","is_in_european_union":true,"isBattle":true},"ro":{"language":"ro","language_name":"Romanian","flag":"ro","geoip_code":"ro","priority":707,"is_site_locale":true,"iso":"ro","iso_639_3":"nld","global_name":"Romanian","is_in_european_union":true,"isBattle":true}}')
}}]);