(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[47830,802],{699137:()=>{},287473:e=>{e.exports={offlineBar:"offlineBar-3vHO0JTe",icon:"icon-3vHO0JTe",text:"text-3vHO0JTe"}},360509:(e,t,i)=>{"use strict";i.d(t,{setupChartScreenshotHint:()=>a});var n=i(787236),r=i(251954),o=i(588537);function a(e,t){const a=(0,n.t)("Link to the chart image copied to clipboard {emoji}").format({emoji:"👍"}),s=(0,n.t)("Chart image copied to clipboard {emoji}").format({emoji:"👍"});r.on("onServerScreenshotCopiedToClipboard",()=>d(a),null),r.on("onClientScreenshotCopiedToClipboard",()=>d(s),null);let l=null;const c=e.getContainer();function d(e){l?l.show(e):Promise.all([i.e(18844),i.e(16767),i.e(16895),i.e(30092)]).then(i.bind(i,634464)).then(i=>{l||(l=new i.ChartScreenshotHintRenderer((0,o.ensureNotNull)(c),{bottomPadding:t.seriesControlBarEnabled}),l.show(e))})}}},820277:(e,t,i)=>{"use strict";i.d(t,{configuration:()=>r});var n=i(722329);async function r(e){const[t,{ObjectTreeRenderer:r},{DataWindowWidget:o}]=await Promise.all([(0,n.configuration)(e),Promise.all([i.e(66708),i.e(87112)]).then(i.bind(i,272833)),Promise.all([i.e(66708),i.e(87112)]).then(i.bind(i,933465))]);return t.ObjectTreeWidget=r,t.DataWindowWidget=o,t}},722329:(e,t,i)=>{"use strict";async function n(e){Promise.all([i.e(47580),i.e(93090)]).then(i.bind(i,947580)).then(e=>new e.ScreenerAlertsDispatcher);const[{widgetBarWidgets:t},{configure:n}]=await Promise.all([Promise.all([i.e(66708),i.e(63975),i.e(31205),i.e(60777),i.e(15574),i.e(11946),i.e(29993),i.e(16061),i.e(24555),i.e(29841),i.e(23359),i.e(6096),i.e(69565),i.e(84513),i.e(89915),i.e(83782),i.e(37238),i.e(31924),i.e(87902),i.e(33745),i.e(49985),i.e(40971),i.e(51113),i.e(98449),i.e(93921),i.e(20651),i.e(61909),i.e(15928),i.e(20217),i.e(26612),i.e(77297),i.e(1912),i.e(86182),i.e(75422),i.e(54876)]).then(i.bind(i,776215)),Promise.all([i.e(66708),i.e(63975),i.e(31205),i.e(60777),i.e(15574),i.e(11946),i.e(29993),i.e(16061),i.e(24555),i.e(29841),i.e(23359),i.e(6096),i.e(69565),i.e(84513),i.e(89915),i.e(83782),i.e(37238),i.e(31924),i.e(87902),i.e(33745),i.e(49985),i.e(40971),i.e(51113),i.e(98449),i.e(93921),i.e(20651),i.e(61909),i.e(15928),i.e(20217),i.e(26612),i.e(77297),i.e(1912),i.e(86182),i.e(75422),i.e(54876)]).then(i.bind(i,918809))]);return t.Watchlist=n(e),t}i.d(t,{configuration:()=>n})},474474:(e,t,i)=>{"use strict";function n(){return{version:2,width:267,pages:[]}}i.d(t,{getDefaultState:()=>n})},515798:(e,t,i)=>{"use strict";i.d(t,{WidgetbarBootloader:()=>c});var n=i(62802),r=i.n(n),o=i(510013),a=i(611688),s=i(474474),l=i(477600);class c extends o.ChunkLoader{constructor(e){super(),this._options=e,this._options.resizerBridge.negotiateWidth(this._calcWidgetBarWidth()),this._options.resizerBridge.container.value().appendChild((0,l.createStubElem)())}async _startLoading(){
const{tradingPromise:e,resizerBridge:t,showWizardFn:i,showCloseButton:n,areShortcutsAvailable:r,chartWidgetCollection:o,settingsPrefix:a,customization:s,readonly:l,configuration:c}=this._options,[d,u]=await Promise.all([this._loadWidgetBar(),e]);return new d({resizerBridge:t,showCloseButton:n,showWizardFn:i,areShortcutsAvailable:r,chartWidgetCollection:o,settingsPrefix:a,customization:s,readonly:l,tradingPanelAccessor:null!==u?{tradingPanel:u.tradingPanel,setDomPanelVisibility:u.setDomPanelVisibility.bind(u),setOrderPanelVisibility:u.setOrderPanelVisibility.bind(u)}:void 0,configuration:c})}async _loadWidgetBar(){return(await Promise.all([i.e(66708),i.e(63975),i.e(31205),i.e(60777),i.e(15574),i.e(11946),i.e(29993),i.e(16061),i.e(24555),i.e(29841),i.e(23359),i.e(6096),i.e(69565),i.e(84513),i.e(89915),i.e(83782),i.e(37238),i.e(31924),i.e(87902),i.e(33745),i.e(49985),i.e(40971),i.e(51113),i.e(98449),i.e(93921),i.e(20651),i.e(61909),i.e(15928),i.e(20217),i.e(26612),i.e(77297),i.e(1912),i.e(86182),i.e(75422),i.e(54876)]).then(i.bind(i,359621))).WidgetBar}_calcWidgetBarWidth(){const e=r().getJSON(this._options.settingsPrefix+".layout-settings",{settings:(0,s.getDefaultState)()});void 0===e.settings.minimized&&(e.settings.minimized=!a.enabled("show_right_widgets_panel_by_default"));const t=a.enabled("widgetbar_tabs")?46:0;return e.settings.minimized?t:t+e.settings.width+1}}},418686:(e,t,i)=>{"use strict";i.d(t,{FullToolsetBootloader:()=>r});var n=i(510013);class r extends n.ChunkLoader{_startLoading(){return Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(82888),i.e(86363),i.e(15998),i.e(25113),i.e(63562),i.e(63975),i.e(34956),i.e(7427),i.e(47552),i.e(53466),i.e(39961),i.e(87836),i.e(25399),i.e(94763),i.e(63921),i.e(57419),i.e(44408),i.e(98371),i.e(54104),i.e(73944),i.e(19042),i.e(56909),i.e(81112),i.e(20976),i.e(14474),i.e(540),i.e(59685),i.e(91594),i.e(70637),i.e(83231),i.e(17601),i.e(81086),i.e(86731),i.e(81030),i.e(59511),i.e(73221),i.e(98449),i.e(11681),i.e(49030),i.e(51060)]).then(i.bind(i,531158)).then(e=>e.getToolSet())}}},393357:(e,t,i)=>{"use strict";var n;i.d(t,{HeaderToolbarComponentIds:()=>n}),function(e){e.SymbolSearch="header-toolbar-symbol-search",e.Intervals="header-toolbar-intervals",e.ChartStyles="header-toolbar-chart-styles",e.Compare="header-toolbar-compare",e.Indicators="header-toolbar-indicators",e.StudyTemplates="header-toolbar-study-templates",e.Dropdown="header-toolbar-dropdown",e.Alerts="header-toolbar-alerts",e.Layouts="header-toolbar-layouts",e.SaveLoad="header-toolbar-save-load",e.UndoRedo="header-toolbar-undo-redo",e.Properties="header-toolbar-properties",e.PublishDesktop="header-toolbar-publish-desktop",e.PublishMobile="header-toolbar-publish-mobile",e.Fullscreen="header-toolbar-fullscreen",e.Screenshot="header-toolbar-screenshot",e.Replay="header-toolbar-replay",e.Financials="header-toolbar-financials",e.StartTrial="header-toolbar-start-trial"}(n||(n={}))},992939:(e,t,i)=>{"use strict";var n;i.d(t,{AlertEditorAbortReason:()=>n}),function(e){e.AlertIsInvalid="alert-is-invalid",
e.AlertsMaintenance="alerts-maintenance",e.ChartModelNotFound="chart-model-not-found",e.IsAlreadyPresent="is-already-present",e.MainSeriesIsATR="main-series-is-atr",e.MainSeriesIsInReplay="main-series-is-in-replay",e.MainSeriesIsOffline="main-series-is-offline",e.SourceIsDangerous="source-is-dangerous",e.SymbolInfoTimeout="symbol-info-timeout",e.SymbolIsInvalid="symbol-is-invalid",e.SymbolCurrencyConverted="symbol-currency-converted",e.SymbolUnitConverted="symbol-unit-converted",e.SymbolCurrencyAndUnitConverted="symbol-currency-and-unit-converted",e.SymbolIsEconomics="symbol-is-economics",e.UnsupportedResolution="unsupported-resolution",e.ManualAbort="manual-abort",e.MisleadingPriceScale="misleading-price-scale"}(n||(n={}))},917455:(e,t,i)=>{"use strict";i.d(t,{getAlertDialogType:()=>g,shouldAbortAlertEditor:()=>m,showAbortExplainingDialog:()=>y,ensureSeriesIsNotOffline:()=>S});var n=i(787236),r=i(779923),o=i(992939),a=i(195048),s=i(749473),l=i(583912),c=i(696329),d=i(217540),u=i(552279),h=i(278341);function g(e){return e.alert?e.type||"edit_alert":"create_alert"}function m(e){var t;if(h.alertsMaintenanceTracker.value())return o.AlertEditorAbortReason.AlertsMaintenance;if(!e.alert&&!e.dataSourceHub)return o.AlertEditorAbortReason.ChartModelNotFound;if(!c.alertEditorInvocationHandler.isAllowedToInvoke(e))return o.AlertEditorAbortReason.IsAlreadyPresent;const i=null===(t=e.dataSourceHub)||void 0===t?void 0:t.mainSeries();if(i&&b(i))return o.AlertEditorAbortReason.MainSeriesIsOffline;if(i&&function(e){return e.status()===a.STATUS_INVALID_SYMBOL}(i))return o.AlertEditorAbortReason.SymbolIsInvalid;if(i&&i.isConvertedToOtherCurrency()&&i.isConvertedToOtherUnit())return o.AlertEditorAbortReason.SymbolCurrencyAndUnitConverted;if(i&&i.isConvertedToOtherCurrency())return o.AlertEditorAbortReason.SymbolCurrencyConverted;if(i&&i.isConvertedToOtherUnit())return o.AlertEditorAbortReason.SymbolUnitConverted;const n=g(e);if("create_alert"===n&&i&&function(e){var t;return"ATR"===(null===(t=e.stateForAlert().styleInputs)||void 0===t?void 0:t.style)}(i))return o.AlertEditorAbortReason.MainSeriesIsATR;if("create_alert"===n&&i&&function(e){return e.isInReplay()}(i))return o.AlertEditorAbortReason.MainSeriesIsInReplay;if("create_alert"===n&&i&&function(e){const t=e.symbolInfo();return null!==t&&(0,s.isEconomicsSymbol)(t)}(i))return o.AlertEditorAbortReason.SymbolIsEconomics;const r=i?i.interval():l.linking.interval.value();return"create_alert"!==n||(0,d.canPlaceAlertOnResolution)(r)?null:o.AlertEditorAbortReason.UnsupportedResolution}function b(e){return e.status()===a.STATUS_OFFLINE}function y(e,t){if(v.has(e))return;v.add(e);const i=()=>v.delete(e),a=function(e){return new Map([[o.AlertEditorAbortReason.UnsupportedResolution,"alertsOnSeconds"]]).get(e)||null}(e);if(a)return void(0,u.reloginOrGoPro)({feature:a,actionAfterClose:i});const s=function(e,t){const i=n.t("Oops!"),r=n.t("Alert editor could not be initialized"),a=n.t("Ok");return new Map([[o.AlertEditorAbortReason.AlertsMaintenance,{title:n.t("Alerts maintenance"),
text:n.t("We are doing some brief daily maintenance. Alerts will be back really soon, thanks for your patience!"),buttonText:a}],[o.AlertEditorAbortReason.MainSeriesIsOffline,{title:i,text:("create_alert"===t?n.t("Cannot create an alert while offline"):n.t("Cannot edit an alert while offline"))+". "+n.t("Please check your internet connection")+".",buttonText:a}],[o.AlertEditorAbortReason.SymbolIsInvalid,{title:i,text:"create_alert"===t?n.t("Can't create alert on invalid symbol"):n.t("Can't edit alert on invalid symbol"),buttonText:a}],[o.AlertEditorAbortReason.SymbolCurrencyAndUnitConverted,{title:n.t("Both the currency and the unit have been converted!"),text:"create_alert"===t?n.t("It's not currently possible to create alerts on such a scale."):n.t("It's not currently possible to edit alerts on such a scale."),buttonText:n.t("Got it")}],[o.AlertEditorAbortReason.SymbolCurrencyConverted,{title:n.t("A converted currency has been detected!"),text:"create_alert"===t?n.t("It's not currently possible to create alerts for this type of symbol."):n.t("It's not currently possible to edit alerts for this type of symbol."),buttonText:n.t("Got it")}],[o.AlertEditorAbortReason.SymbolUnitConverted,{title:n.t("A converted unit has been detected!"),text:"create_alert"===t?n.t("It's not currently possible to create alerts for this type of symbol."):n.t("It's not currently possible to edit alerts for this type of symbol."),buttonText:n.t("Got it")}],[o.AlertEditorAbortReason.SymbolIsEconomics,{title:n.t("Dang-it – Wrong symbol type!"),text:n.t("Alerts aren't available right now for economics symbols."),buttonText:n.t("Got it")}],[o.AlertEditorAbortReason.MainSeriesIsATR,{title:n.t("Alert cannot be set on an ATR-based chart"),text:n.t("Your alert won't trigger the way you expect it to! Inputs for ATR-based charts are recalculated each time you open a chart and are generally dependent on time. Please use the traditional chart type to set an alert with a static box size."),buttonText:a}],[o.AlertEditorAbortReason.MainSeriesIsInReplay,{title:n.t("Oops – Replay Mode!"),text:n.t("Alerts are not currently available in replay mode."),buttonText:n.t("Got it")}]]).get(e)||{title:i,text:r,buttonText:a}}(e,t);(0,r.showWarning)({...s,onClose:i})}const v=new Set;function S(e){return new Promise(t=>{if(!b(e))return void t();const i=()=>{b(e)||(e.onStatusChanged().unsubscribe(null,i),t())};e.onStatusChanged().subscribe(null,i)})}},295786:(e,t,i)=>{"use strict";i.d(t,{invokeAlertEditor:()=>u,invokeAlertEditorWithOnlineSeries:()=>g});var n=i(917455),r=i(920358),o=i(992939),a=i(921270),s=i(911905),l=i(696329),c=i(278341);const d=(0,s.getLogger)("Alerts.Price.InvokeAlertEditor");function u(e){c.alertsMaintenanceTracker.sync();const t=(0,n.shouldAbortAlertEditor)(e);if(null!==t)return t!==o.AlertEditorAbortReason.IsAlreadyPresent&&(0,n.showAbortExplainingDialog)(t,(0,n.getAlertDialogType)(e)),d.logWarn("Aborted: "+t),void(e.onAborted&&e.onAborted(t));const{unlockInvocation:a,abortSignal:s}=l.alertEditorInvocationHandler.lockInvocation(e)
;Promise.all([Promise.all([i.e(24377),i.e(17709),i.e(68647),i.e(56887),i.e(85518),i.e(93987),i.e(95925),i.e(14915),i.e(81179),i.e(25192),i.e(80372),i.e(52280),i.e(60273)]).then(i.t.bind(i,61587,19)),(0,r.getPriceAlertsDispatcher)(),h(e,a,s)]).then(e=>{const[t,i,n]=e;new t.AlertEditor(i,n)},a)}function h(e,t,i){return(e.series?(0,a.hasUserAccessToDataSource)(e.series):Promise.resolve(!0)).then(n=>{const r=e.onDestroy,o={...e,abortSignal:i,onDestroy:()=>{t(),r&&r()}};return n||(delete o.series,delete o.value),o})}function g(e){e.dataSourceHub?(0,n.ensureSeriesIsNotOffline)(e.dataSourceHub.mainSeries()).then(()=>{u(e)}):u(e)}},449282:(e,t,i)=>{"use strict";i.d(t,{initBeforeUnloadMessage:()=>r});const n=(0,i(787236).t)("The Chart Layout includes unsaved changes. You will lose your data if you leave the page.");function r(e){window.addEventListener("beforeunload",t=>{if(e.hasChanges())return t.returnValue=n,n})}},796875:(e,t,i)=>{"use strict";i.r(t),i.d(t,{BacktestingStrategyDispatcher:()=>d});var n=i(62802),r=i(97639),o=i.n(r),a=i(147627),s=i(949156),l=i(36177),c=i(579917);class d{constructor(e){this._chartWidgetCollection=null,this._chartWidgets=[],this._model=null,this._activeChartChanged=!1,this._strategies=[],this._modelStrategies=[],this._ready=(0,c.createDeferredPromise)(),this._filled=(0,c.createDeferredPromise)(),this._change=new(o()),this._initModel=async e=>{const t=e.model(),i=await this._getChartModelStrategySources(t);if(i.length&&!t.activeStrategySource().value()){const e=n.getValue(l.LAST_STRATEGY_TVSETTINGS_KEY);let t;if(e)for(let n=0;n<i.length;n++)if(i[n].metaInfo().scriptIdPart===e){t=i[n];break}t||(t=i[i.length-1]),this.setActiveStrategy(t,this._model)}},this._applyModel=e=>{e!==this._model&&(this._model&&this._model.model().strategySourcesChange().unsubscribe(null,this._onStrategiesChange),this._strategies=[],this._model=e,this._model.model().strategySourcesChange().subscribe(null,this._onStrategiesChange)),this._onStrategiesChange()},this._onStrategiesChange=()=>{clearTimeout(this._updateToId),this._updateToId=setTimeout(this._updateStrategies.bind(this),100)},this._onActiveChartWidgetChange=e=>{this._model&&(this._activeChartChanged=!0),e.hasModel()?this._applyModel(e.model()):e.modelCreated().subscribe(null,this._applyModel)},this._onLayoutChange=()=>{this._chartWidgetCollection&&this._chartWidgetCollection.getAll().forEach(e=>{-1===this._chartWidgets.indexOf(e)&&(this._chartWidgets.push(e),e.hasModel()?this._initModel(e.model()):e.modelCreated().subscribe(null,this._initModel))})},this._setChartWidgetCollection(e,!0)}model(){return this._model}chartWidgetCollection(){return this._chartWidgetCollection?this._chartWidgetCollection:null}ready(){return this._ready.promise}change(){return this._change}filled(){return this._filled.promise}strategies(){return this._strategies}setActiveStrategy(e,t){const i=t&&t.model()||null!==this._model&&this._model.model();i&&(i.setActiveStrategySource(e),i.updateSource(e))}unsetActiveStrategy(e){const t=e&&e.model()||this._model&&this._model.model()
;t&&t.unsetActiveStrategySource()}destroy(){this._chartWidgetCollection&&(this._chartWidgetCollection.layout.unsubscribe(this._onLayoutChange),this._chartWidgetCollection.activeChartWidget.unsubscribe(this._onActiveChartWidgetChange));for(const e of this._modelStrategies)e.onIsActualIntervalChange().unsubscribe(this,this._updateVisibleStrategy.bind(this))}_setChartWidgetCollection(e,t){(e&&e!==this._chartWidgetCollection||!0===t)&&(this._chartWidgetCollection&&(this._chartWidgetCollection.layout.unsubscribe(this._onLayoutChange),this._chartWidgetCollection.activeChartWidget.unsubscribe(this._onActiveChartWidgetChange)),this._chartWidgetCollection=e,this._chartWidgetCollection.layout.subscribe(this._onLayoutChange,{callWithLast:!0}),this._chartWidgetCollection.activeChartWidget.subscribe(this._onActiveChartWidgetChange,{callWithLast:!0}))}_isStrategySource(e){var t;let i;return"metaInfo"in e?i=e.metaInfo():e instanceof a.StudyStub&&(i=e.state(!0)&&(null===(t=e.state(!0))||void 0===t?void 0:t.metaInfo)),Boolean(i&&i.isTVScriptStrategy)}async _getChartModelStrategySources(e){return new Promise(t=>{const i={},n={},r=e.dataSources();let o;for(let e=0;e<r.length;e++)o=r[e],this._isStrategySource(o)&&(o instanceof s.StudyStrategy?i[o.id()]=o:o instanceof a.StudyStub&&(n[o.id()]=o));function l(e){return Object.keys(e).map(t=>e[t])}Object.keys(n).length?e.strategySourcesChange().subscribe(null,(function r(){let o,a;for(let t=0;t<e.strategySources().length;t++)o=e.strategySources()[t],a=o.id(),n[a]&&(i[a]=o,delete n[a]);Object.keys(n).length||(e.strategySourcesChange().unsubscribe(null,r),t(l(i)))})):t(l(i))})}_updateVisibleStrategy(){const e=this._modelStrategies.filter(e=>e.isVisible());this._change.fire(this._modelStrategies.slice(),e,this._activeChartChanged),this._ready.resolve(),e.length&&this._filled.resolve()}async _updateStrategies(){if(null===this._model)return;this._modelStrategies=this._model.model().strategySources();for(const e of this._modelStrategies)e.onIsActualIntervalChange().subscribe(this,this._updateVisibleStrategy.bind(this));const e=this._modelStrategies.filter(e=>e.properties().visible.value()&&e.isVisible()),t=this._strategies;this._strategies=e&&e.slice()||[],this._change.fire(t,this._strategies,this._activeChartChanged),this._activeChartChanged=!1,this._ready.resolve(),this._strategies.length&&this._filled.resolve()}}},36177:(e,t,i)=>{"use strict";i.r(t),i.d(t,{LAST_STRATEGY_TVSETTINGS_KEY:()=>n});const n="backtesting.lastStrategySelectedScriptIdPart"},92949:(e,t,i)=>{"use strict";i.d(t,{ensureSettings:()=>c,getUserSettings:()=>s,setUserSettings:()=>l});var n=i(706617);var r=i(62802),o=i.n(r);const a={activeWidget:"screener",height:320,mode:"minimized"};function s(){return o().getJSON("chart.bottom-widgetbar")}function l(e){o().setJSON("chart.bottom-widgetbar",e)}function c(e,t=a){if(!(0,n.isObject)(e))return t;let i=t.activeWidget;(0,n.hasProperty)(e,"activeWidget")&&function(e){if("string"!=typeof e)return!1;return["backtesting","screener","scripteditor","text_notes","paper_trading"].includes(e)
}(e.activeWidget)&&(i=e.activeWidget);let r=t.mode;(0,n.hasProperty)(e,"mode")&&function(e){if("string"!=typeof e)return!1;return["minimized","normal","maximized"].includes(e)}(e.mode)&&(r=e.mode);let o=t.height;return(0,n.hasProperty)(e,"height")&&function(e){return"number"==typeof e&&isFinite(e)}(e.height)&&(o=e.height),{activeWidget:i,mode:r,height:o}}},863663:(e,t,i)=>{"use strict";i.d(t,{BottomWidgetbarBootloader:()=>s});var n=i(477600),r=i(510013),o=i(594195),a=i(92949);class s extends r.ChunkLoader{constructor(e){super(),this._opts=e;const t=(0,a.ensureSettings)({activeWidget:e.defaultActiveWidget,mode:e.mode}),{mode:i,height:r}=this._userSettings=(0,a.ensureSettings)((0,a.getUserSettings)(),t),s=this._opts.resizerBridge,l=s.container.value();switch(i){case"maximized":s.negotiateHeight(s.availHeight.value());break;case"normal":s.negotiateHeight(r+o.footerWidgetHeight);break;case"minimized":s.negotiateHeight(o.footerWidgetHeight)}l.appendChild((0,n.createStubElem)())}_startLoading(){return Promise.all([this._loadBottomWidgetbar(),this._opts.configBootloader.load()]).then(([e,t])=>new e({resizerBridge:this._opts.resizerBridge,chartWidgetCollection:this._opts.chartWidgetCollection,backtestingStrategyDispatcher:this._opts.backtestingStrategyDispatcher,studyMarket:this._opts.studyMarket,widgets:this._opts.widgets,config:t},this._userSettings))}_loadBottomWidgetbar(){return Promise.all([i.e(48617),i.e(14193)]).then(i.bind(i,144418)).then(e=>e.Bottomwidgetbar)}}},839648:(e,t,i)=>{"use strict";i.d(t,{FullConfigSetBootloder:()=>r});var n=i(510013);class r extends n.ChunkLoader{_startLoading(){return Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(69875),i.e(80509),i.e(8879),i.e(86363),i.e(66708),i.e(15998),i.e(25113),i.e(63562),i.e(63975),i.e(7427),i.e(9954),i.e(66333),i.e(18844),i.e(93713),i.e(60777),i.e(47552),i.e(53466),i.e(3848),i.e(16061),i.e(84575),i.e(87836),i.e(23450),i.e(81692),i.e(1323),i.e(24555),i.e(94763),i.e(63921),i.e(78268),i.e(67546),i.e(3520),i.e(57419),i.e(44408),i.e(87670),i.e(69565),i.e(62853),i.e(73944),i.e(72640),i.e(81112),i.e(54947),i.e(10496),i.e(16767),i.e(43712),i.e(95429),i.e(31924),i.e(21420),i.e(59284),i.e(54433),i.e(2186),i.e(43764),i.e(45958),i.e(10660),i.e(54170),i.e(73332),i.e(64152),i.e(85026),i.e(42403),i.e(85822),i.e(97720),i.e(42140),i.e(42466),i.e(93921),i.e(99379),i.e(12331),i.e(97974),i.e(32717),i.e(27302),i.e(7498),i.e(98946),i.e(44992),i.e(57449),i.e(24141),i.e(32622),i.e(88800)]).then(i.bind(i,376444)).then(e=>e.getFullConfigSet())}}},594195:(e,t,i)=>{"use strict";i.d(t,{footerWidgetHeight:()=>n});const n=39},913979:(e,t,i)=>{"use strict";i.d(t,{FooterWidgetBootloader:()=>r});var n=i(510013);class r extends n.ChunkLoader{constructor(e){super(),this._opts=e}_startLoading(){return Promise.all([this._opts.bottomWidgetbarBootloader.load(),this._loadFooterWidget()]).then(([e,t])=>{const{resizerBridge:i}=this._opts;return new t(e.footerWidgetContainer(),i,e)})}_loadFooterWidget(){
return Promise.all([i.e(69129),i.e(2e3),i.e(86363),i.e(76168),i.e(37707)]).then(i.bind(i,725795)).then(e=>e.FooterWidgetRenderer)}}},807422:(e,t,i)=>{"use strict";i.d(t,{UaTitleManager:()=>c});var n=i(588537),r=i(692598);function o(e){return null==e?"":e>0?`+${e}%`:e<0?`−${Math.abs(e)}%`:"0%"}function a(e){return null==e?0:e>0?1:e<0?-1:0}function s(e,t){return null==e?"":t.format(e)}const l=window.TVD?window.TVD.setTitle:function(e){const t=[];e.symbol&&t.push(e.symbol),e.last&&(t.push(e.last),e.changeSign&&t.push(e.changeSign>0?"▲":"▼"),e.changePercent&&t.push(e.changePercent),e.name&&t.push(e.name)),0===t.length&&t.push("New Chart"),document.title=t.join(" ")};class c{constructor(e){this._currentSeries=null,this._onLayoutChanged=e=>{this._rendererData.layout=e,this._updateView()},this._onNameChanged=e=>{this._rendererData.name=e,this._updateView()},this._updateView=()=>{l(this._rendererData)},this._onSymbolOrFormatterChanged=()=>{const e=(0,n.ensureNotNull)(this._currentSeries),t=e.quotesProvider().quotes(),i={logoid:null==t?void 0:t.logoid,"currency-logoid":null==t?void 0:t["currency-logoid"],"base-currency-logoid":null==t?void 0:t["base-currency-logoid"]};this._rendererData={name:this._rendererData.name,layout:this._rendererData.layout,symbol:e.symbol().replace(/\w+:/g,""),last:s(t&&t.last_price,e.formatter()),changePercent:o(t&&t.change_percent),changeSign:a(t&&t.change_percent),logoUrls:null!==t?(0,r.removeUsdAndStableCoinFromCryptoPairLogos)((0,r.resolveLogoUrls)(i)):[]},this._updateView()},this._onQuoteData=(e,t)=>{const i=t.values,l=i.change_percent,c=i.last_price;let d=!1;if(void 0!==l&&(this._rendererData.changeSign=a(l),this._rendererData.changePercent=o(l),d=!0),void 0!==c){const e=(0,n.ensureNotNull)(this._currentSeries);this._rendererData.last=s(c,e.formatter()),d=!0}if(void 0!==i.logoid||void 0!==i["currency-logoid"]||void 0!==i["base-currency-logoid"]){const e={logoid:i.logoid,"currency-logoid":i["currency-logoid"],"base-currency-logoid":i["base-currency-logoid"]};this._rendererData.logoUrls=(0,r.removeUsdAndStableCoinFromCryptoPairLogos)((0,r.resolveLogoUrls)(e)),d=!0}d&&this._updateView()},this._onActiveChartChanged=()=>{this._unsubscribeFromCurrentSeriesEvents();const e=this._chartWidgetCollection.activeChartWidget.value();e.withModel(null,()=>{this._chartWidgetCollection.activeChartWidget.value()===e&&(this._currentSeries=e.model().mainSeries(),this._subscribeToCurrentSeriesEvents(),this._onSymbolOrFormatterChanged())})},this._chartWidgetCollection=e,this._rendererData={symbol:"",last:"",changeSign:0,changePercent:"",name:this._chartWidgetCollection.metaInfo.name.value(),layout:this._chartWidgetCollection.layout.value(),logoUrls:[]},this._chartWidgetCollection.layout.subscribe(this._onLayoutChanged),this._chartWidgetCollection.metaInfo.name.subscribe(this._onNameChanged),this._chartWidgetCollection.activeChartWidget.subscribe(this._onActiveChartChanged),this._onActiveChartChanged()}destroy(){this._chartWidgetCollection.layout.unsubscribe(this._onLayoutChanged),
this._chartWidgetCollection.metaInfo.name.unsubscribe(this._onNameChanged),this._chartWidgetCollection.activeChartWidget.unsubscribe(this._onActiveChartChanged),this._unsubscribeFromCurrentSeriesEvents(),this._currentSeries=null}_unsubscribeFromCurrentSeriesEvents(){if(null!==this._currentSeries){this._currentSeries.formatterChanged().unsubscribeAll(this);const e=this._currentSeries.quotesProvider();e.quoteSymbolChanged().unsubscribeAll(this),e.quotesUpdate().unsubscribeAll(this)}}_subscribeToCurrentSeriesEvents(){if(null!==this._currentSeries){this._currentSeries.formatterChanged().subscribe(this,this._onSymbolOrFormatterChanged);const e=this._currentSeries.quotesProvider();e.quoteSymbolChanged().subscribe(this,this._onSymbolOrFormatterChanged),e.quotesUpdate().subscribe(this,this._onQuoteData)}}}},108743:(e,t,i)=>{"use strict";i(970028),i(281640)},588326:(e,t,i)=>{"use strict";var n=i(97639),r=i(823127),o=i(895370).addPerfMark;o("main_chart.ExecuteStart"),i(764612),i(345689);const a=i(611688);a.enable("tv_production"),a.enable("mobile_trading"),a.enable("real_brokers"),window.setWinMobileMode=function(){},i(385518);var s=i(548829).HeaderToolbarBootloader,l=i(418686).FullToolsetBootloader,c=i(414471).DrawingToolbarBootloader,d=i(670503).isDrawingToolbarVisible,u=i(24958).TradingBootloader,h=i(515798).WidgetbarBootloader,g=i(863663).BottomWidgetbarBootloader,m=i(796875).BacktestingStrategyDispatcher,b=i(839648).FullConfigSetBootloder,y=i(913979).FooterWidgetBootloader,v=i(436046).TopLeftButtonBootloader,S=i(264170),f=i(372006).SupportTicketData,p=i(434342).ScriptUpdater,_=i(63208).CHART_WIDGET_COLLECTION_SERVICE,w=i(564894),C=i(964304).createFavoriteDrawingToolbar,A=i(920358).getPriceAlertsDispatcher,T=i(798935).ChartSaver,E=i(807422).UaTitleManager,W=i(984552).StudyTemplates,I=i(441058).FavoriteStudyTemplateService,L=i(501897).SaveChartService,P=i(747113).SharingChartService,D=i(976387).LoadChartService,O=i(583912).linking,B=i(108494),k=i(155790),R=i(175203).telemetry,M=i(226722).TVXWindowEvents,N=i(780028).StudyMarket,V=i(440135).restoreTheme,x=i(909740).setTheme,U=i(975774).loadThemeOnChartInitialization,F=i(588948).updateInitData,z=i(588948).getInitData,H=i(62802),G=i(126974).availableTimeFrames,j=i(869584).isSymbolAvailable,J=i(869584).requestFallbackSymbol,Y=i(251954),X=i(911730).ChartChangesWatcher,q=i(449282).initBeforeUnloadMessage,$=i(279720).createGoRegisterDialog,K=i(393357).HeaderToolbarComponentIds,Q=i(638456).CheckMobile,Z=i(564757),ee=i(487381).setupTrackingModePopupHint,te=i(164387).setupChartEventHint,ie=i(360509).setupChartScreenshotHint,ne=i(385043).initAllAnalytics,re=i(477393).FundamentalsDialogLoader,oe=i(473999).registerSiteSymbolListBackend,ae=i(453434).initGlobalSearchAction,se=i(781499).handleNotificationOnOfflineOnlineEvents,le=i(343719).defaultCompareSymbols,ce=i(201642).subscriptionNotification,de=i(125226).isFeatureEnabled,ue=i(778785).mobiletouch;i(108743),oe(ChartApiInstance),F();var he=z(),ge=he.readOnly;var me=i(90523).Root,be=new(0,
i(760641).ChartPage)(new me(window).allocate()),ye=be.allocate({areaName:"center"}),ve=new S({resizerBridge:ye,padding:2,content:he.content,readOnly:he.readOnly,saveChartEnabled:!0,takeScreenshotEnabled:!0,widgetOptions:{defSymbol:he.defSymbol||(he.content?"":H.getValue("editchart.model.symbol",DEFAULT_SYMBOL)),defInterval:he.defInterval||(he.content?"":H.getValue("editchart.model.interval")),defStyle:he.defStyle||(he.content?"":H.getValue("editchart.model.style")),addToWatchlistEnabled:!0,showFinancialsEnabled:!0,propertyPagesEnabled:!0,chartEventsEnabled:!0,esdEnabled:!0,controlBarEnabled:!0,addVolume:!0,justCloned:he.justCloned,isDrawingToolbarVisible:d,lastPriceAnimationEnabled:!location.search.toLowerCase().includes("disablelastpriceanimation"),crossHair:{menuEnabled:!he.readOnly},paneContextMenuEnabled:!he.readOnly,paneContextMenu:{mainSeriesTrade:!he.readOnly},currencyConversionEnabled:!0,unitConversionEnabled:de("unit_conversion"),isSymbolAvailable:j,requestFallbackSymbol:J,timeScaleWidget:{contextMenuEnabled:!0,timezoneMenuEnabled:!0,priceAxisLabelsOptions:{showLabels:!he.readOnly}},timeScale:{preserveBarSpacing:!1,lockVisibleTimeRangeOnResize:!1},legendWidgetEnabled:!0,legendWidget:{contextMenu:{settings:a.enabled("show_chart_property_page"),showOpenMarketStatus:!0},symbolMarkerEnabled:!0},goToDateEnabled:!0,compareSymbols:le},seriesControlBarEnabled:!he.readOnly,seriesControlBar:{timeFramesWidgetEnabled:!0,timeFramesWidget:{goToDateEnabled:!0,availableTimeFrames:G},timeWidgetEnabled:!0,timeWidget:{timezoneMenuEnabled:!0},adjustForDividendsButtonEnabled:!0,sessionIdButtonEnabled:!0,backAdjustmentButtonEnabled:!0,settlementAsCloseButtonEnabled:!0,percentageScaleButtonEnabled:!0,logScaleButtonEnabled:!0,autoScaleButtonEnabled:!0,fullscreenButtonEnabled:!0,mobileChangeLayoutEnabled:Q.any()},metaInfo:he.metaInfo,globalEvents:!0,mobileForceChartMaximizeEnabled:Q.any()}),Se=function(){window.user&&window.user.is_pro||(window.loginStateChange.unsubscribe(null,Se),Promise.all([i.e(99678),i.e(30187)]).then(i.bind(i,146325)).then(({addBrandingSource:e})=>{e(ve)}))};window.user&&window.user.is_pro?window.loginStateChange.subscribe(null,Se):Se(),a.enabled("alerts")&&(A().then((function(e){e.setChartWidgetCollection(ve)})),i.e(20645).then(i.bind(i,13374)).then((function(e){e.initGlobalAlertsHotkeys(ve)})));var fe=ge?null:new u({resizerBridge:be.allocate({areaName:"tradingpanel"}),chartWidgetCollection:ve}).load();C(),ve.readOnly()||(window.studyMarket=new N(ve),window.fundamentalsDialog=new re(ve)),w.registerService(_,ve);{const e=ce();e.on("subscribe",()=>{e.showChartNotification()}),e.on("upgrade",()=>{e.showChartNotification()})}O.bindToChartWidgetCollection(ve),f.setChartWidgetCollection(ve),window.scriptUpdater=new p(ve),window._exposed_chartWidgetCollection=ve,he.theme?x(he.theme):V(),window.saver=new T(ve);var pe=new X(ve.undoHistory,ve.lineToolSynchronizerHasChanges,window.saver,Y),_e=new I(M,H),we=new L(ve,window.saver);ve.setSaveChartService(we)
;var Ce=new P(!!he.sharing_enabled,ve.metaInfo.uid.value(),ve.metaInfo.id.value()),Ae=new D(ve),Te=new m(ve),Ee=ue?["full"]:void 0;function We(e){var t=document.getElementById(K.PublishDesktop),i=document.getElementById(K.PublishMobile);if(!(t&&t.contains(e.target)||i&&i.contains(e.target))){var n=TradingView.bottomWidgetBar;n&&n.turnOffMaximize()}}var Ie=new W({favoriteStudyTemplatesService:_e,chartWidgetCollection:ve});window.TradingViewApi=new B({chartApiInstance:ChartApiInstance,chartWidgetCollection:ve,saveChartService:we,loadChartService:Ae,sharingChartService:Ce,studyMarket:window.studyMarket,financialsDialog:window.fundamentalsDialog});var Le=new s(new l,{resizerBridge:be.allocate({areaName:"top"}),ideas:!0,chartSaver:window.saver,chartApiInstance:ChartApiInstance,availableTimeFrames:G,allowedModes:Ee,chartWidgetCollection:ve,studyMarket:window.studyMarket,studyTemplates:Ie,favoriteStudyTemplatesService:_e,saveChartService:we,sharingChartService:Ce,loadChartService:Ae,chartChangesWatcher:pe,financialsDialogController:window.fundamentalsDialog,onClick:We}),Pe=new n,De=new n,Oe=Q.any()?void 0:ae(),Be=new v({resizerBridge:be.allocate({areaName:"topleft"}),chartChangesWatcher:pe,chartWidgetCollection:ve,saveChartService:we,sharingChartService:Ce,loadChartService:Ae,chartSaver:window.saver,isSupportAvailable:window.initData.is_support_available,widgetbarSettled:Pe,bottomWidgetBarSettled:De,openGlobalSearch:Oe}),ke=new c({resizerBridge:be.allocate({areaName:"left"}),chartWidgetCollection:ve,readOnly:ge,onClick:We,widgetbarSettled:Pe});const Re=i(820277).configuration;var Me=new h({chartWidgetCollection:ve,resizerBridge:be.allocate({areaName:"right"}),settingsPrefix:"widgetbar",showCloseButton:!0,showWizardFn:null,areShortcutsAvailable:!0,configuration:()=>Re({chartApiInstance:ChartApiInstance}),tradingPromise:fe}),Ne=new b,Ve=be.allocate({areaName:"bottom"}),xe=new g({resizerBridge:Ve,chartWidgetCollection:ve,backtestingStrategyDispatcher:Te,studyMarket:window.studyMarket,widgets:["screener",de("remove_note_tab_from_bottom_panel")?null:"text_notes",ge?null:"scripteditor","backtesting",ge?null:"paper_trading"],configBootloader:Ne}),Ue=new y({resizerBridge:Ve,chartWidgetCollection:ve,bottomWidgetbarBootloader:xe});function Fe(){r(".loading-indicator").remove()}Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(86363),i.e(15998),i.e(7427),i.e(53466),i.e(87836),i.e(63921),i.e(3520),i.e(57419),i.e(87670),i.e(19042),i.e(56909),i.e(81112),i.e(86416),i.e(59284),i.e(52567),i.e(90026),i.e(70323),i.e(97179),i.e(75514),i.e(29594),i.e(83243),i.e(91890),i.e(40968),i.e(14085),i.e(88607),i.e(22306)]).then(i.t.bind(i,565808,23)).then(({default:e})=>{window.lineToolPropertiesToolbar=new e(ve)});var ze=ve.activeChartWidget.value(),He=null;function Ge(){o("main_chart.LoadToolbars");var e=Le.load(),t=Be.load();return{headerToolbarPromise:e,drawingToolbarPromise:ke.load(),widgetbarPromise:Me.load().then((function(e){window.widgetbar=e,Pe.fire(!0)})),bottomWidgetPromise:xe.load().then((function(e){return function(e,t){
t.change().subscribe(null,(function(t,i,n,r){if(!n){var o=function(e,t){var i=t.map((function(e){return e.id()}));return e.filter((function(e){return!i.includes(e.id())}))}(t,i),a=function(e,t){var i=e.map((function(e){return e.id()}));return t.filter((function(e){return!i.includes(e.id())}))}(t,i);0===o.length&&1===a.length&&1!==r&&e.toggleWidget("backtesting",!0)}}))}(e,Te),TradingView.bottomWidgetBar=e,De.fire(!0),e})).then(()=>{i.e(78892).then(i.bind(i,145125)).then((function(e){e.tradeNowInit()}))}),footerWidgetPromise:Ue.load().then((function(e){return window.footerWidget=e.getComponent(),e.getComponent()})),topLeftButtonPromise:t}}ze?(Z.isAnyChartWidgetInitialized(ve)?He||(He=Ge()):Z.waitAnyChartWidgetInitialized(ve,(function(){He||(He=Ge())})),ze.withModel(ze,(function(){var e=this.model().mainSeries();e.dataEvents().completed().subscribe(this,(function(){A().then((function(e){e.showOfflineEvents()}))}),!0),e.dataEvents().completed().subscribe(this,(function(){ee&&(ee(ye.container.value()),ee=null),te&&(te(ve),te=null),ie&&(ie(ve,{seriesControlBarEnabled:!he.readOnly}),ie=null)})),U(he,ve),ne(new Promise((function(t){e.dataEvents().completed().subscribe(null,t,{once:!0})})))}),!0),new E(ve),Fe(),ze.onTagsChanged().subscribe(null,(function(){ze.hasModel()&&(H.setValue("editchart.model.interval",ze.model().mainSeries().properties().interval.value()),H.setValue("editchart.model.style",ze.model().mainSeries().properties().style.value()),H.setValue("editchart.model.symbol",ze.model().mainSeries().properties().symbol.value()))})),ze.onDisconnected().subscribe(null,(function(e){e&&k.showCriticalErrorMessage((function(){ChartApiInstance.disconnect(),setTimeout((function(){ChartApiInstance.connect(),ze.reconnect()}),500)}))})),ze.onReconnectBailout().subscribe(null,(function(){k.showDisconnectedMessage((function(){setTimeout((function(){ChartApiInstance.connect()}),0)}))})),ze.onConnected().subscribe(null,(function(){ze._disconnectCounter=0})),r(".tv-content").bind("contextmenu",(function(e){var t=r(e.originalEvent.target);if(!t.is("input")&&!t.is("textarea"))return!1})),setTimeout((function(){Fe()}),1e4),setTimeout((function(){He||(He=Ge())}),5e3),window.is_authenticated||setTimeout((function(){window.is_authenticated||$()}),9e5)):Fe(),document.addEventListener("readystatechange",(function(){var e=Date.now()-3e5;if("complete"===document.readyState&&window.performance&&window.performance.timing&&window.performance.timing.domInteractive>e&&window.performance.timing.requestStart>e){var t=window.performance.timing.domInteractive-window.performance.timing.requestStart;R.sendChartReport("page_load_time_frame",{value:t})}})),q(pe),o("main_chart.ExecuteEnd");var je=i(888778);Promise.all([je.initSymbolListService(),Promise.all([i.e(93921),i.e(29594),i.e(44692),i.e(86584),i.e(1026)]).then(i.bind(i,804169))]).then((function(e){var t=e[0],i=e[1];t.runner.run(i.activeSymbolListNavigator)})),se(be.allocate({areaName:"extratop"}))},487389:(e,t,i)=>{"use strict";var n=i(823127),r=i(926904);n.fn.timeUpdate=function(e,t,i){
return this.each((function(){var o=n(this),a=o.data(e||"timestamp"),s=this.hasAttribute("data-force-ago-format");a?a*=1e3:a=1e3*o.text(),r.jQueryCompatibleAgoDateFormatter(o,new Date(a),s,t,i),o.removeClass("time-upd js-time-upd")}))}},696329:(e,t,i)=>{"use strict";i.d(t,{ALERT_DIALOG_CREATE_INVOCATION_ID:()=>s,alertEditorInvocationHandler:()=>c});var n=i(262325),r=i.n(n),o=i(917455),a=i(588537);const s=-1;class l{constructor(){this._state=new(r())(!1)}subscribe(e){this._state.subscribe(e)}unsubscribe(e){this._state.unsubscribe(e)}value(){return this._state.value()}abort(){this._state.setValue(!0)}}const c=new class{constructor(){this._dialogInvocations=new(r())(new Map)}getDialogInvocations(){return this._dialogInvocations}isAllowedToInvoke(e){return e.silent||!this._dialogInvocations.value().has(d(e))}lockInvocation(e){if(e.silent)return{unlockInvocation:()=>{}};const t=d(e),i=new l,n=new Map(this._dialogInvocations.value());return n.set(t,i),this._dialogInvocations.setValue(n),{abortSignal:i,unlockInvocation:()=>{const e=new Map(this._dialogInvocations.value());e.delete(t),this._dialogInvocations.setValue(e)}}}};function d(e){return"create_alert"===(0,o.getAlertDialogType)(e)?s:(0,a.ensureDefined)(e.alert).id}},278341:(e,t,i)=>{"use strict";i.d(t,{alertsMaintenanceTracker:()=>a});var n=i(262325),r=i.n(n),o=i(125226);const a=new class{constructor(){this._state=new(r())((0,o.isFeatureEnabled)("alerts-maintenance"))}value(){return this._state.value()}subscribe(e){this._state.subscribe(e)}unsubscribe(e){this._state.unsubscribe(e)}sync(){this._state.setValue((0,o.isFeatureEnabled)("alerts-maintenance"))}}},921270:(e,t,i)=>{"use strict";function n(e){return o().then(t=>t.hasUserAccessToDataSource(e))}function r(e){return o().then(t=>t.filterAccessibleDataSources(e))}i.d(t,{hasUserAccessToDataSource:()=>n,filterAccessibleDataSources:()=>r});const o=()=>Promise.all([i.e(15517),i.e(24377),i.e(17709),i.e(56887),i.e(85518),i.e(93987),i.e(95925),i.e(14915),i.e(81179),i.e(25192),i.e(46305),i.e(80372),i.e(52280),i.e(83441)]).then(i.bind(i,472764))},217540:(e,t,i)=>{"use strict";i.d(t,{canPlaceAlertOnResolution:()=>a,isAlertResolutionEqual:()=>s});var n=i(273044),r=i(560507),o=i(833813);function a(e){return!n.Interval.isSeconds(e)||(0,r.enabled)(o.ProductFeatures.ALERTS_ON_SECONDS)}function s(e,t){return e.get("crossInterval")||n.Interval.isEqual(e.get("resolution"),t)}},764612:(e,t,i)=>{"use strict";i.r(t);i(699137)},279720:(e,t,i)=>{"use strict";function n(e){return Promise.all([i.e(69129),i.e(82888),i.e(25113),i.e(34956),i.e(18844),i.e(25380),i.e(39961),i.e(37929),i.e(75514),i.e(92697),i.e(27901)]).then(i.bind(i,426335)).then(t=>t.createGoRegisterDialog(e))}i.d(t,{createGoRegisterDialog:()=>n})},385043:(e,t,i)=>{"use strict";i.d(t,{initAllAnalytics:()=>v});var n=i(677748),r=i(588948),o=i(719718);(0,r.updateInitData)();var a;function s(e){(0,o.marketingAnalyticsEnabled)()&&(0,o.createImage)((e=>`https://www.facebook.com/tr?id=${(0,r.getInitData)().fbTagId}&ev=${e}&noscript=1`)(e))}!function(e){e.PageView="PageView",
e.CompleteRegistration="CompleteRegistration",e.StartTrial="StartTrial",e.Subscribe="Subscribe"}(a||(a={}));var l=i(665343),c=i(975420),d=i(314802),u=i(638456);function h(){try{return null===top||window!==window.top||document!==top.document||self.location!==top.location}catch(e){return!0}}const g=(0,u.onMainPage)()||window.location.pathname.startsWith("/symbols/");let m=!1;function b(){if(function(){if(m||!(0,o.yandexAnalyticsEnabled)()&&!h()||(0,d.isOnMobileAppPage)("any")||u.CheckMobile.any()||!g)return;(0,r.updateInitData)(),(0,r.getInitData)().yaTagId&&((0,o.appendScript)("https://mc.yandex.ru/metrika/tag.js"),window.ym=function(){window.ym.a.push(arguments)},window.ym.a=window.ym.a||[],window.ym.l=(new Date).getTime(),m=!0)}(),!m)return;const e=(0,r.getInitData)().yaTagId;window.ym(e,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0})}var y=i(776734);async function v(e){if(s(a.PageView),(0,l.trackTwitterEvent)(l.TwitterEvent.SiteVisit),await Promise.all([n.whenDocumentReadyPromise,e]),(0,c.initGA)(),b(),!h()){const e=await(0,y.getTracker)();e&&e.trackPageView()}}},552279:(e,t,i)=>{"use strict";i.d(t,{reloginOrGoPro:()=>h,runOrGoPro:()=>u,runOrGoProWithoutSync:()=>d});var n=i(526225),r=i(629588),o=i(560507),a=i(833813);function s(e,t,i){return t.value||(0,o.enabled)(e,i)}function l(e,t,i){switch(e){case a.ProductFeatures.SCREENER_INTERVALS:return function(e,t){const i=(0,o.getConfig)(a.ProductFeatures.SCREENER_INTERVALS,t);return!(!i||!i.interval)&&i.interval.includes(e.interval)}(t,i);case a.ProductFeatures.SCREENER_AUTO_REFRESH:return s(a.ProductFeatures.SCREENER_AUTO_REFRESH,t,i);case a.ProductFeatures.ALERTS_NO_EXPIRATION:return s(a.ProductFeatures.ALERTS_NO_EXPIRATION,t,i);default:return(0,o.enabled)(e,i)}}var c=i(231039);function d(e,t,i,n){l(t,n)?e():(0,r.createGoProDialog)(i)}async function u(e,t,i,r={}){const o=window.is_authenticated;window.is_authenticated&&window.user.is_pro&&await(0,n.syncUserData)("gopro"),o===window.is_authenticated?d(e,t,i,r):(0,c.showSignModal)({source:i.goproSource,feature:i.feature,signinSuccess:e})}async function h(e){const t=window.is_authenticated;window.is_authenticated&&window.user.is_pro&&await(0,n.syncUserData)("gopro"),t===window.is_authenticated?(0,r.createGoProDialog)(e):(0,c.showSignModal)({source:e.goproSource,feature:e.feature})}},526225:(e,t,i)=>{"use strict";i.d(t,{syncUserData:()=>c,syncUserConversionData:()=>d});var n=i(911905),r=i(345848),o=i(86674);const a=(0,n.getLogger)("User.Sync");function s(e){return`${e}_${window.user&&window.user.username||""}`}function l(e,t,i){i!==window.user.pro_plan&&(window.user.pro_plan=i,window.user.is_pro=Boolean(i),(0,r.trackEvent)("Sync User Data","Different Pro Plan",s(e))),t!==window.is_authenticated&&(window.is_authenticated=t,window.loginStateChange.fire(),(0,r.trackEvent)("Sync User Data","Different Auth",s(e)))}async function c(e){try{const t=await i.e(90254).then(i.bind(i,450305));l(e,!0,(await t.getMe()).pro_plan)}catch(t){!function(e,t){
"not_authenticated"===t.type?l(e,!1,void 0):a.logError(t.message)}(e,t)}}async function d(e){const t=await(0,o.fetch)("/gopro/"),i=await t.json();return l(e,i.is_authenticated,i.user.pro_plan),i}},822714:(e,t,i)=>{"use strict";i.r(t),i.d(t,{convertToCustomSymbolList:()=>a,convertToMarkedSymbolList:()=>s,convertToSymbolList:()=>l,getCustomWatchLists:()=>c,renameWatchList:()=>d,removeWatchList:()=>u,addSymbols:()=>h,removeSymbols:()=>g,replaceSymbols:()=>m,createWatchList:()=>b,putWatchList:()=>y,setActive:()=>v,getActive:()=>S,changeDescription:()=>f});var n=i(588537),r=i(86674),o=i(658583);function a(e){var t;return{type:"custom",id:e.id,name:e.name,description:e.description,symbols:null!==(t=e.symbols)&&void 0!==t?t:[],shared:e.shared}}function s(e){var t,i;const r=(0,n.ensureNotNull)(e.color);return{type:"colored",id:r,color:r,name:null!==(t=e.name)&&void 0!==t?t:null,description:e.description,symbols:null!==(i=e.symbols)&&void 0!==i?i:[],shared:e.shared}}function l(e){return"custom"===e.type?a(e):s(e)}function c(){return(0,r.fetch)("/api/v1/symbols_list/custom/").then(o.handleJSON).then(e=>e.map(a))}function d(e,t){return(0,r.fetch)(`/api/v1/symbols_list/custom/${e.id}/rename/`,{method:"POST",body:JSON.stringify({name:t}),headers:{"Content-Type":"application/json"}}).then(o.handleJSON)}function u(e){return(0,r.fetch)(`/api/v1/symbols_list/custom/${e.id}/`,{method:"DELETE"}).then(o.handleJSON)}function h(e,t){return(0,r.fetch)(`/api/v1/symbols_list/custom/${e.id}/append/`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(o.handleJSON)}function g(e,t){return(0,r.fetch)(`/api/v1/symbols_list/custom/${e.id}/remove/`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(o.handleJSON)}function m(e,t){return(0,r.fetch)(`/api/v1/symbols_list/custom/${e.id}/replace/?unsafe=true`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(o.handleJSON)}function b(e){return(0,r.fetch)("/api/v1/symbols_list/custom/",{method:"POST",body:JSON.stringify({name:e.name,symbols:e.symbols}),headers:{"Content-Type":"application/json"}}).then(o.handleJSON).then(a)}function y(e){throw new Error("not implemented")}function v(e){return(0,r.fetch)(`/api/v1/symbols_list/active/${e}/`,{method:"POST"})}function S(){return(0,r.fetch)("/api/v1/symbols_list/active/",{method:"GET"}).then(o.handleJSON).then(l)}function f(e,t){return(0,r.fetch)(`/api/v1/symbols_list/custom/${e}/update_meta/`,{method:"POST",body:JSON.stringify({description:t}),headers:{"Content-Type":"application/json"}}).then(o.handleJSON).then(l)}},658583:(e,t,i)=>{"use strict";function n(e){return e.ok?204===e.status?Promise.resolve():e.json():e.json().then(e=>{const t=new Error(e.detail||"not ok");throw e.code&&(t.name="ApiError:"+e.code),t})}i.d(t,{handleJSON:()=>n})},453434:(e,t,i)=>{"use strict";i.d(t,{initGlobalSearchAction:()=>a});var n=i(398835),r=i(564894),o=i(63208);function a(){const e=()=>{const e=(0,
r.service)(o.CHART_WIDGET_COLLECTION_SERVICE).activeChartWidget.value();e.withModel(null,()=>{Promise.all([i.e(48463),i.e(69129),i.e(2e3),i.e(82888),i.e(69875),i.e(8879),i.e(86363),i.e(66708),i.e(15998),i.e(25113),i.e(63562),i.e(63975),i.e(34956),i.e(7427),i.e(9954),i.e(53466),i.e(3848),i.e(87836),i.e(77962),i.e(81692),i.e(46238),i.e(85617),i.e(63921),i.e(3520),i.e(26149),i.e(93037),i.e(87670),i.e(98371),i.e(88740),i.e(62853),i.e(71577),i.e(54104),i.e(53750),i.e(56909),i.e(81112),i.e(7345),i.e(10307),i.e(76251),i.e(41654),i.e(39859),i.e(20954),i.e(93557),i.e(52567),i.e(99997),i.e(58074),i.e(89885),i.e(68337),i.e(98449),i.e(69397),i.e(93921),i.e(29594),i.e(61310),i.e(43731),i.e(91890),i.e(9940),i.e(40968),i.e(44320),i.e(59754)]).then(i.bind(i,401154)).then(t=>{t.showGlobalSearchDialog(e)})})};return(0,n.createGroup)({desc:"GlobalSearch"}).add({desc:"Open",hotkey:n.Modifiers.Mod+75,handler:e}),e}},781499:(e,t,i)=>{"use strict";i.d(t,{handleNotificationOnOfflineOnlineEvents:()=>h});var n=i(559496),r=i(587995),o=i(787236),a=i(83436),s=i(18182),l=i(719876),c=i(287473);function d(e){return n.createElement(s.MatchMedia,{rule:"screen and (max-width: 428px)"},e=>n.createElement("div",{className:c.offlineBar},n.createElement(a.Icon,{className:c.icon,icon:l}),n.createElement("span",{className:c.text},e?(0,o.t)("You’re offline."):(0,o.t)("You’re offline. The markets aren’t. Don’t miss your move."))))}class u{constructor(e){this._resizer=e,this._container=e.container.value()}show(){this._resizer.negotiateHeight(30),r.render(n.createElement(d,null),this._container)}hide(){r.unmountComponentAtNode(this._container),this._resizer.negotiateHeight(0)}}function h(e){const t=new u(e);let i=!1,n=null;window.addEventListener("offline",()=>{n&&clearTimeout(n),n=setTimeout(()=>{navigator.onLine||(t.show(),i=!0)},1e4)}),window.addEventListener("online",()=>{n&&clearTimeout(n),i&&(t.hide(),i=!1)})}},473999:(e,t,i)=>{"use strict";i.d(t,{registerSiteSymbolListBackend:()=>d});var n=i(261309);const r=i(822714);var o=i(787236),a=i(564894);class s{constructor(e=[]){this._list={id:"DEFAULT_SINGLE_WATCHLIST",type:"custom",name:(0,o.t)("Watchlist"),description:null,symbols:[...e],shared:!1}}getCustomWatchLists(){return Promise.resolve([this._list])}getSymbols(e){return Promise.resolve(this._list.symbols)}createWatchList(e){throw new Error("not implemented")}putWatchList(e){throw new Error("not implemented")}removeWatchList(e){throw new Error("not implemented")}renameWatchList(e,t){return Promise.resolve(t)}replaceSymbols(e,t){return this._list.symbols=[...t],Promise.resolve(this._list)}addSymbols(e,t){return this._list.symbols.push(...t),Promise.resolve(this._list.symbols)}removeSymbols(e,t){return this._list.symbols=this._list.symbols.filter(e=>!t.includes(e)),Promise.resolve(this._list.symbols)}setActive(e){return Promise.resolve(this._list)}getActive(){return Promise.resolve(this._list)}changeDescription(e,t){throw new Error("not implemented")}}var l=i(440498);class c{constructor(e){this._deletedSymbolsList=new l.DeletedSymbolsList,this.update(e)}
update(e){const{isAuthenticated:t,chartApiInstance:i}=e;this._current=t?r:new s(i.defaultWatchlistSymbols())}getCustomWatchLists(){return this._current.getCustomWatchLists().then(e=>{const t=[...e],i=this._deletedSymbolsList.getList();return i&&t.push(i),t})}createWatchList(e){if((0,l.isDeletedSymbolsList)(e.id)){this._deletedSymbolsList.createList(e);const t=this._deletedSymbolsList.getList();return Promise.resolve(t)}return this._current.createWatchList(e)}putWatchList(e){if((0,l.isDeletedSymbolsList)(e.id)){const e=this._deletedSymbolsList.getList();if(e)return Promise.resolve(e)}return this._current.putWatchList(e)}removeWatchList(e){var t;return(0,l.isDeletedSymbolsList)(e.id)?(null===(t=this._deletedSymbolsList)||void 0===t||t.removeList(),Promise.resolve()):this._current.removeWatchList(e)}renameWatchList(e,t){if((0,l.isDeletedSymbolsList)(e.id)){const e=this._deletedSymbolsList.getList();if(e)return Promise.resolve(e.name)}return this._current.renameWatchList(e,t)}replaceSymbols(e,t){if((0,l.isDeletedSymbolsList)(e.id)){this._deletedSymbolsList.replaceSymbols(t);const e=this._deletedSymbolsList.getList();return Promise.resolve(e)}return this._current.replaceSymbols(e,t)}addSymbols(e,t){if((0,l.isDeletedSymbolsList)(e.id)){this._deletedSymbolsList.addSymbols(t);const e=this._deletedSymbolsList.getList();return e?Promise.resolve(e.symbols):Promise.resolve([])}return this._current.addSymbols(e,t)}removeSymbols(e,t){if((0,l.isDeletedSymbolsList)(e.id)){this._deletedSymbolsList.removeSymbols(t);const e=this._deletedSymbolsList.getList();return e?Promise.resolve(e.symbols):Promise.resolve([])}return this._current.removeSymbols(e,t)}setActive(e){return(0,l.isDeletedSymbolsList)(e)?(this._deletedSymbolsList.setIsActive(!0),Promise.resolve()):(this._deletedSymbolsList.getIsActive()&&this._deletedSymbolsList.setIsActive(!1),this._current.setActive(e))}getActive(){if(this._deletedSymbolsList.getIsActive()){const e=this._deletedSymbolsList.getList();if(e)return Promise.resolve(e)}return this._current.getActive()}changeDescription(e,t){return this._current.changeDescription(e,t)}}function d(e){const t=new c({chartApiInstance:e,isAuthenticated:window.is_authenticated});return window.loginStateChange.subscribe(t,()=>{t.update({chartApiInstance:e,isAuthenticated:window.is_authenticated})}),(0,a.registerService)(n.SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE,t),()=>{window.loginStateChange.unsubscribeAll(t),(0,a.unregisterService)(n.SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE)}}},261309:(e,t,i)=>{"use strict";i.d(t,{SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE:()=>n});const n={id:"SymbolListRepositoryBackend"}},692598:(e,t,i)=>{"use strict";i.r(t),i.d(t,{getLogoUrlsHook:()=>s,removeUsdAndStableCoinFromCryptoPairLogos:()=>l,resolveLogoUrls:()=>a});var n=i(849204);const r=JSON.parse('["XTVCUSDT","XTVCDAI","XTVCBUSD","XTVCTUSD","XTVCUSDC","XTVCUST","XTVCDGX","XTVCHUSD","XTVCMOD","XTVCACH","XTVCWETH"]'),o=(0,n.getLogoUrlResolver)();function a(e,t=n.LogoSize.Medium){
const i=e.logoid,r=e["base-currency-logoid"],a=e["currency-logoid"],s=i&&o.getSymbolLogoUrl(i,t);if(s)return[s];const l=r&&o.getSymbolLogoUrl(r,t),c=a&&o.getSymbolLogoUrl(a,t);return l&&c?[l,c]:l?[l]:c?[c]:[]}function s(e,t){let i=!1;return(n,r,o)=>{const s=n["currency-logoid"]&&n["base-currency-logoid"];if(!i&&(n.logoid||s||o)){i=!0;const r=l(a({logoid:n.logoid,"base-currency-logoid":n["base-currency-logoid"],"currency-logoid":n["currency-logoid"]},t));e(r)}}}function l(e){return 2!==e.length?e:function(e){return e.some(e=>c(e))}(e)&&!function(e){return e.some(e=>e.includes("country")&&!c(e))}(e)?e.filter(e=>!c(e)):function(e){return e.some(e=>u(e))}(e)&&function(e){return e.some(e=>d(e))}(e)?e.filter(e=>d(e)):e}function c(e){return e.includes("country/US")}function d(e){return e.includes("crypto")&&!u(e)}function u(e){return r.some(t=>e.includes(t))}},719876:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="#FB8C00" d="M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9z"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>'}},e=>{e.O(0,[10108,50656,31205,7884,36336,68985,7493,84830,15517,93148,43251,57591,51937,75514,87236,59420,23127,24951,95170,24377,17709,67758,34318,8505,68647,56887,47872,83912,13345,82614,48744,68522,84671,73769,85518,93987,95925,14915,81179,25192,46305,4103,64170,97858,61834,35453],()=>{return t=588326,e(e.s=t);var t});e.O()}]);